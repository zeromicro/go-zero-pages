{"./":{"url":"./","title":"ç®€ä»‹","keywords":"","body":" go-zero 0. go-zero ä»‹ç» go-zero æ˜¯ä¸€ä¸ªé›†æˆäº†å„ç§å·¥ç¨‹å®è·µçš„ web å’Œ rpc æ¡†æ¶ã€‚é€šè¿‡å¼¹æ€§è®¾è®¡ä¿éšœäº†å¤§å¹¶å‘æœåŠ¡ç«¯çš„ç¨³å®šæ€§ï¼Œç»å—äº†å……åˆ†çš„å®æˆ˜æ£€éªŒã€‚ go-zero åŒ…å«æç®€çš„ API å®šä¹‰å’Œç”Ÿæˆå·¥å…· goctlï¼Œå¯ä»¥æ ¹æ®å®šä¹‰çš„ api æ–‡ä»¶ä¸€é”®ç”Ÿæˆ Go, iOS, Android, Kotlin, Dart, TypeScript, JavaScript ä»£ç ï¼Œå¹¶å¯ç›´æ¥è¿è¡Œã€‚ ä½¿ç”¨ go-zero çš„å¥½å¤„ï¼š è½»æ¾è·å¾—æ”¯æ’‘åƒä¸‡æ—¥æ´»æœåŠ¡çš„ç¨³å®šæ€§ å†…å»ºçº§è”è¶…æ—¶æ§åˆ¶ã€é™æµã€è‡ªé€‚åº”ç†”æ–­ã€è‡ªé€‚åº”é™è½½ç­‰å¾®æœåŠ¡æ²»ç†èƒ½åŠ›ï¼Œæ— éœ€é…ç½®å’Œé¢å¤–ä»£ç  å¾®æœåŠ¡æ²»ç†ä¸­é—´ä»¶å¯æ— ç¼é›†æˆåˆ°å…¶å®ƒç°æœ‰æ¡†æ¶ä½¿ç”¨ æç®€çš„ API æè¿°ï¼Œä¸€é”®ç”Ÿæˆå„ç«¯ä»£ç  è‡ªåŠ¨æ ¡éªŒå®¢æˆ·ç«¯è¯·æ±‚å‚æ•°åˆæ³•æ€§ å¤§é‡å¾®æœåŠ¡æ²»ç†å’Œå¹¶å‘å·¥å…·åŒ… 1. go-zero æ¡†æ¶èƒŒæ™¯ 18 å¹´åˆï¼Œæˆ‘ä»¬å†³å®šä» Java+MongoDB çš„å•ä½“æ¶æ„è¿ç§»åˆ°å¾®æœåŠ¡æ¶æ„ï¼Œç»è¿‡ä»”ç»†æ€è€ƒå’Œå¯¹æ¯”ï¼Œæˆ‘ä»¬å†³å®šï¼š åŸºäº Go è¯­è¨€ é«˜æ•ˆçš„æ€§èƒ½ ç®€æ´çš„è¯­æ³• å¹¿æ³›éªŒè¯çš„å·¥ç¨‹æ•ˆç‡ æè‡´çš„éƒ¨ç½²ä½“éªŒ æä½çš„æœåŠ¡ç«¯èµ„æºæˆæœ¬ è‡ªç ”å¾®æœåŠ¡æ¡†æ¶ æœ‰è¿‡å¾ˆå¤šå¾®æœåŠ¡æ¡†æ¶è‡ªç ”ç»éªŒ éœ€è¦æœ‰æ›´å¿«é€Ÿçš„é—®é¢˜å®šä½èƒ½åŠ› æ›´ä¾¿æ·çš„å¢åŠ æ–°ç‰¹æ€§ 2. go-zero æ¡†æ¶è®¾è®¡æ€è€ƒ å¯¹äºå¾®æœåŠ¡æ¡†æ¶çš„è®¾è®¡ï¼Œæˆ‘ä»¬æœŸæœ›ä¿éšœå¾®æœåŠ¡ç¨³å®šæ€§çš„åŒæ—¶ï¼Œä¹Ÿè¦ç‰¹åˆ«æ³¨é‡ç ”å‘æ•ˆç‡ã€‚æ‰€ä»¥è®¾è®¡ä¹‹åˆï¼Œæˆ‘ä»¬å°±æœ‰å¦‚ä¸‹ä¸€äº›å‡†åˆ™ï¼š ä¿æŒç®€å•ï¼Œç¬¬ä¸€åŸåˆ™ å¼¹æ€§è®¾è®¡ï¼Œé¢å‘æ•…éšœç¼–ç¨‹ å·¥å…·å¤§äºçº¦å®šå’Œæ–‡æ¡£ é«˜å¯ç”¨ é«˜å¹¶å‘ æ˜“æ‰©å±• å¯¹ä¸šåŠ¡å¼€å‘å‹å¥½ï¼Œå°è£…å¤æ‚åº¦ çº¦æŸåšä¸€ä»¶äº‹åªæœ‰ä¸€ç§æ–¹å¼ æˆ‘ä»¬ç»å†ä¸åˆ°åŠå¹´æ—¶é—´ï¼Œå½»åº•å®Œæˆäº†ä» Java+MongoDB åˆ° Golang+MySQL ä¸ºä¸»çš„å¾®æœåŠ¡ä½“ç³»è¿ç§»ï¼Œå¹¶äº 18 å¹´ 8 æœˆåº•å®Œå…¨ä¸Šçº¿ï¼Œç¨³å®šä¿éšœäº†ä¸šåŠ¡åç»­è¿…é€Ÿå¢é•¿ï¼Œç¡®ä¿äº†æ•´ä¸ªæœåŠ¡çš„é«˜å¯ç”¨ã€‚ 3. go-zero é¡¹ç›®å®ç°å’Œç‰¹ç‚¹ go-zero æ˜¯ä¸€ä¸ªé›†æˆäº†å„ç§å·¥ç¨‹å®è·µçš„åŒ…å« web å’Œ rpc æ¡†æ¶ï¼Œæœ‰å¦‚ä¸‹ä¸»è¦ç‰¹ç‚¹ï¼š å¼ºå¤§çš„å·¥å…·æ”¯æŒï¼Œå°½å¯èƒ½å°‘çš„ä»£ç ç¼–å†™ æç®€çš„æ¥å£ å®Œå…¨å…¼å®¹ net/http æ”¯æŒä¸­é—´ä»¶ï¼Œæ–¹ä¾¿æ‰©å±• é«˜æ€§èƒ½ é¢å‘æ•…éšœç¼–ç¨‹ï¼Œå¼¹æ€§è®¾è®¡ å†…å»ºæœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ å†…å»ºé™æµã€ç†”æ–­ã€é™è½½ï¼Œä¸”è‡ªåŠ¨è§¦å‘ï¼Œè‡ªåŠ¨æ¢å¤ API å‚æ•°è‡ªåŠ¨æ ¡éªŒ è¶…æ—¶çº§è”æ§åˆ¶ è‡ªåŠ¨ç¼“å­˜æ§åˆ¶ é“¾è·¯è·Ÿè¸ªã€ç»Ÿè®¡æŠ¥è­¦ç­‰ é«˜å¹¶å‘æ”¯æ’‘ï¼Œç¨³å®šä¿éšœäº†ç–«æƒ…æœŸé—´æ¯å¤©çš„æµé‡æ´ªå³° å¦‚ä¸‹å›¾ï¼Œæˆ‘ä»¬ä»å¤šä¸ªå±‚é¢ä¿éšœäº†æ•´ä½“æœåŠ¡çš„é«˜å¯ç”¨ï¼š è§‰å¾—ä¸é”™çš„è¯ï¼Œåˆ«å¿˜ star ğŸ‘ 4. Installation åœ¨é¡¹ç›®ç›®å½•ä¸‹é€šè¿‡å¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š GO111MODULE=on GOPROXY=https://goproxy.cn/,direct go get -u github.com/tal-tech/go-zero 5. Quick Start å®Œæ•´ç¤ºä¾‹è¯·æŸ¥çœ‹ å¿«é€Ÿæ„å»ºé«˜å¹¶å‘å¾®æœåŠ¡ å¿«é€Ÿæ„å»ºé«˜å¹¶å‘å¾®æœåŠ¡ - å¤š RPC ç‰ˆ å®‰è£… goctl å·¥å…· goctl è¯»ä½œ go controlï¼Œä¸è¦è¯»æˆ go C-T-Lã€‚goctl çš„æ„æ€æ˜¯ä¸è¦è¢«ä»£ç æ§åˆ¶ï¼Œè€Œæ˜¯è¦å»æ§åˆ¶å®ƒã€‚å…¶ä¸­çš„ go ä¸æ˜¯æŒ‡ golangã€‚åœ¨è®¾è®¡ goctl ä¹‹åˆï¼Œæˆ‘å°±å¸Œæœ›é€šè¿‡ å¥¹ æ¥è§£æ”¾æˆ‘ä»¬çš„åŒæ‰‹ğŸ‘ˆ GO111MODULE=on GOPROXY=https://goproxy.cn/,direct go get -u github.com/tal-tech/go-zero/tools/goctl ç¡®ä¿ goctl å¯æ‰§è¡Œ å¿«é€Ÿç”Ÿæˆ api æœåŠ¡ goctl api new greet cd greet go mod init go mod tidy go run greet.go -f etc/greet-api.yaml é»˜è®¤ä¾¦å¬åœ¨ 8888 ç«¯å£ï¼ˆå¯ä»¥åœ¨é…ç½®æ–‡ä»¶é‡Œä¿®æ”¹ï¼‰ï¼Œå¯ä»¥é€šè¿‡ curl è¯·æ±‚ï¼š curl -i http://localhost:8888/from/you è¿”å›å¦‚ä¸‹ï¼š HTTP/1.1 200 OK Content-Type: application/json Date: Thu, 22 Oct 2020 14:03:18 GMT Content-Length: 14 {\"message\":\"\"} ç¼–å†™ä¸šåŠ¡ä»£ç ï¼š api æ–‡ä»¶å®šä¹‰äº†æœåŠ¡å¯¹å¤–æš´éœ²çš„è·¯ç”±ï¼Œå¯å‚è€ƒ api è§„èŒƒ å¯ä»¥åœ¨ servicecontext.go é‡Œé¢ä¼ é€’ä¾èµ–ç»™ logicï¼Œæ¯”å¦‚ mysql, redis ç­‰ åœ¨ api å®šä¹‰çš„ get/post/put/delete ç­‰è¯·æ±‚å¯¹åº”çš„ logic é‡Œå¢åŠ ä¸šåŠ¡å¤„ç†é€»è¾‘ å¯ä»¥æ ¹æ® api æ–‡ä»¶ç”Ÿæˆå‰ç«¯éœ€è¦çš„ Java, TypeScript, Dart, JavaScript ä»£ç  goctl api java -api greet.api -dir greet goctl api dart -api greet.api -dir greet ... 6. Benchmark æµ‹è¯•ä»£ç è§è¿™é‡Œ 7. æ–‡æ¡£ API æ–‡æ¡£ https://www.yuque.com/tal-tech/go-zero awesome ç³»åˆ—ï¼ˆæ›´å¤šæ–‡ç« è§ã€å¾®æœåŠ¡å®è·µã€å…¬ä¼—å·ï¼‰ å¿«é€Ÿæ„å»ºé«˜å¹¶å‘å¾®æœåŠ¡ å¿«é€Ÿæ„å»ºé«˜å¹¶å‘å¾®æœåŠ¡ - å¤š RPC ç‰ˆ goctl ä½¿ç”¨å¸®åŠ© ç²¾é€‰ goctl æ’ä»¶ æ’ä»¶ ç”¨é€” goctl-swagger ä¸€é”®ç”Ÿæˆ api çš„ swagger æ–‡æ¡£ goctl-android ç”Ÿæˆ java (android) ç«¯ http client è¯·æ±‚ä»£ç  goctl-go-compact åˆå¹¶ api é‡ŒåŒä¸€ä¸ª group é‡Œçš„ handler åˆ°ä¸€ä¸ª go æ–‡ä»¶ 8. å¾®ä¿¡å…¬ä¼—å· go-zero ç›¸å…³æ–‡ç« éƒ½ä¼šåœ¨ å¾®æœåŠ¡å®è·µ å…¬ä¼—å·æ•´ç†å‘ˆç°ï¼Œæ¬¢è¿æ‰«ç å…³æ³¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å…¬ä¼—å·ç§ä¿¡æˆ‘ ğŸ‘ 9. å¾®ä¿¡äº¤æµç¾¤ å¦‚æœæ–‡æ¡£ä¸­æœªèƒ½è¦†ç›–çš„ä»»ä½•ç–‘é—®ï¼Œæ¬¢è¿æ‚¨åœ¨ç¾¤é‡Œæå‡ºï¼Œæˆ‘ä»¬ä¼šå°½å¿«ç­”å¤ã€‚ æ‚¨å¯ä»¥åœ¨ç¾¤å†…æå‡ºä½¿ç”¨ä¸­éœ€è¦æ”¹è¿›çš„åœ°æ–¹ï¼Œæˆ‘ä»¬ä¼šè€ƒè™‘åˆç†æ€§å¹¶å°½å¿«ä¿®æ”¹ã€‚ å¦‚æœæ‚¨å‘ç° bug è¯·åŠæ—¶æ issueï¼Œæˆ‘ä»¬ä¼šå°½å¿«ç¡®è®¤å¹¶ä¿®æ”¹ã€‚ ä¸ºäº†é˜²æ­¢å¹¿å‘Šç”¨æˆ·ã€è¯†åˆ«æŠ€æœ¯åŒè¡Œï¼Œè¯· star ååŠ æˆ‘æ—¶æ³¨æ˜ github å½“å‰ star æ•°ï¼Œæˆ‘å†æ‹‰è¿› go-zero ç¾¤ï¼Œæ„Ÿè°¢ï¼ åŠ æˆ‘ä¹‹å‰æœ‰åŠ³ç‚¹ä¸€ä¸‹ starï¼Œä¸€ä¸ªå°å°çš„ star æ˜¯ä½œè€…ä»¬å›ç­”æµ·é‡é—®é¢˜çš„åŠ¨åŠ›ğŸ¤ é¡¹ç›®åœ°å€ï¼šhttps://github.com/tal-tech/go-zero ç äº‘åœ°å€ï¼šhttps://gitee.com/kevwan/go-zero (å›½å†…ç”¨æˆ·å¯è®¿é—®giteeï¼Œæ¯æ—¥è‡ªåŠ¨ä»githubåŒæ­¥ä»£ç ) Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 14:46:20 "},"about-us.html":{"url":"about-us.html","title":"å…³äºæˆ‘ä»¬","keywords":"","body":"å…³äºæˆ‘ä»¬ go-zero go-zero æ˜¯ä¸€ä¸ªé›†æˆäº†å„ç§å·¥ç¨‹å®è·µçš„ web å’Œ rpc æ¡†æ¶ã€‚é€šè¿‡å¼¹æ€§è®¾è®¡ä¿éšœäº†å¤§å¹¶å‘æœåŠ¡ç«¯çš„ç¨³å®šæ€§ï¼Œç»å—äº†å……åˆ†çš„å®æˆ˜æ£€éªŒã€‚ go-zero åŒ…å«æç®€çš„ API å®šä¹‰å’Œç”Ÿæˆå·¥å…· goctlï¼Œå¯ä»¥æ ¹æ®å®šä¹‰çš„ api æ–‡ä»¶ä¸€é”®ç”Ÿæˆ Go, iOS, Android, Kotlin, Dart, TypeScript, JavaScript ä»£ç ï¼Œå¹¶å¯ç›´æ¥è¿è¡Œã€‚ go-zeroä½œè€… ä¸‡ä¿Šå³°ï¼Œæ™“é»‘æ¿ç ”å‘è´Ÿè´£äººï¼Œå¥½æœªæ¥èµ„æ·±æŠ€æœ¯ä¸“å®¶ï¼Œæ‹¥æœ‰14å¹´ç ”å‘å›¢é˜Ÿç®¡ç†ç»éªŒï¼Œ16å¹´æ¶æ„è®¾è®¡ç»éªŒï¼Œ20å¹´å·¥ç¨‹å®æˆ˜ç»éªŒï¼Œè´Ÿè´£è¿‡å¤šä¸ªå¤§å‹é¡¹ç›®çš„æ¶æ„è®¾è®¡ï¼Œæ›¾å¤šæ¬¡åˆä¼™åˆ›ä¸šï¼ˆè¢«æ”¶è´­ï¼‰ï¼ŒGopherChinaå¤§ä¼šè®²å¸ˆï¼Œè…¾è®¯äº‘å¼€å‘è€…å¤§ä¼šè®²å¸ˆã€‚ go-zeroæˆå‘˜ go-zeroæˆªæ­¢2021å¹´2æœˆï¼Œç›®å‰æ‹¥æœ‰30äººçš„å›¢é˜Ÿå¼€å‘äººå‘˜åŠ50+çš„ç¤¾åŒºæˆå‘˜ã€‚ go-zeroç¤¾åŒº æˆ‘ä»¬ç›®å‰æ‹¥æœ‰3000å¤šäººçš„ç¤¾åŒºæˆå‘˜ï¼Œåœ¨è¿™é‡Œï¼Œä½ å¯ä»¥å’Œå¤§å®¶è®¨è®ºä»»ä½•å…³äºgo-zeroçš„æŠ€æœ¯ï¼Œé—®é¢˜åé¦ˆï¼Œè·å–æœ€æ–°çš„go-zeroä¿¡æ¯ï¼Œä»¥åŠå„ä½å¤§ä½¬æ¯å¤©åˆ†äº«çš„æŠ€æœ¯å¿ƒå¾—ã€‚ go-zeroç¤¾åŒºç¾¤ Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 14:26:36 "},"join-us.html":{"url":"join-us.html","title":"åŠ å…¥æˆ‘ä»¬","keywords":"","body":"åŠ å…¥æˆ‘ä»¬ æ¦‚è¦ go-zero æ˜¯ä¸€ä¸ªåŸºäºMIT License çš„å¼€æºé¡¹ç›®ï¼Œå¤§å®¶åœ¨ä½¿ç”¨ä¸­å‘ç°bugï¼Œæœ‰æ–°çš„ç‰¹æ€§ç­‰ï¼Œå‡å¯ä»¥å‚ä¸åˆ°go-zeroçš„è´¡çŒ®ä¸­æ¥ï¼Œæˆ‘ä»¬éå¸¸æ¬¢è¿å¤§å®¶çš„ç§¯æå‚ä¸ï¼Œä¹Ÿä¼šæœ€å¿«å“åº”å¤§å®¶æå‡ºçš„å„ç§é—®é¢˜ï¼Œprç­‰ã€‚ è´¡çŒ®å½¢å¼ Pull Request Issue è´¡çŒ®é¡»çŸ¥ go-zero çš„Pull requestä¸­çš„ä»£ç éœ€è¦æ»¡è¶³ä¸€å®šè§„èŒƒ å‘½åè§„èŒƒï¼Œè¯·é˜…è¯»å‘½åè§„èŒƒ ä»¥è‹±æ–‡æ³¨é‡Šä¸ºä¸» præ—¶å¤‡æ³¨å¥½åŠŸèƒ½ç‰¹æ€§ï¼Œæè¿°éœ€è¦æ¸…æ™°ï¼Œç®€æ´ å¢åŠ å•å…ƒæµ‹è¯•è¦†ç›–ç‡è¾¾80%+ è´¡çŒ®ä»£ç ï¼ˆprï¼‰ è¿›å…¥go-zero é¡¹ç›®ï¼Œforkä¸€ä»½go-zero é¡¹ç›®åˆ°è‡ªå·±çš„githubä»“åº“ä¸­ã€‚ å›åˆ°è‡ªå·±çš„githubä¸»é¡µï¼Œæ‰¾åˆ°xx/go-zeroé¡¹ç›®ï¼Œå…¶ä¸­xxä¸ºä½ çš„ç”¨æˆ·åï¼Œå¦‚anqiansong/go-zero å…‹éš†ä»£ç åˆ°æœ¬åœ° å¼€å‘ä»£ç ï¼Œpushåˆ°è‡ªå·±çš„githubä»“åº“ è¿›å…¥è‡ªå·±çš„githubä¸­go-zeroé¡¹ç›®ï¼Œç‚¹å‡»æµ®å±‚ä¸Šçš„çš„ã€Pull requestsã€‘è¿›å…¥Compareé¡µé¢ã€‚ base repositoryé€‰æ‹©tal-tech/go-zero base:master,head repositoryé€‰æ‹©xx/go-zero compare:$branch ï¼Œ$branchä¸ºä½ å¼€å‘çš„åˆ†æ”¯ï¼Œå¦‚å›¾ï¼š ç‚¹å‡»ã€Create pull requestã€‘å³å¯å®ç°prç”³è¯· ç¡®è®¤præ˜¯å¦æäº¤æˆåŠŸï¼Œè¿›å…¥go-zero çš„Pull requests æŸ¥çœ‹ï¼Œåº”è¯¥æœ‰è‡ªå·±æäº¤çš„è®°å½•ï¼Œåç§°ä¸ºä½ çš„å¼€å‘æ—¶çš„åˆ†æ”¯åç§° Issue åœ¨æˆ‘ä»¬çš„ç¤¾åŒºä¸­ï¼Œæœ‰å¾ˆå¤šä¼™ä¼´ä¼šç§¯æçš„åé¦ˆä¸€äº›go-zeroä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œç”±äºç¤¾åŒºäººæ•°è¾ƒå¤šï¼Œæˆ‘ä»¬è™½ç„¶ä¼šå®æ—¶çš„å…³æ³¨ç¤¾åŒºåŠ¨æ€ï¼Œä½†å¤§å®¶é—®é¢˜åé¦ˆè¿‡æ¥éƒ½æ˜¯éšæœºçš„ï¼Œå½“æˆ‘ä»¬å›¢é˜Ÿè¿˜åœ¨è§£å†³æŸä¸€ä¸ªä¼™ä¼´æå‡ºçš„é—®é¢˜æ—¶ï¼Œå¦å¤–çš„é—®é¢˜ä¹Ÿåé¦ˆä¸Šæ¥ï¼Œå¯èƒ½ä¼šå¯¼è‡´å›¢é˜Ÿä¼šå¾ˆå®¹æ˜“å¿½ç•¥æ‰ï¼Œä¸ºäº†èƒ½å¤Ÿä¸€ä¸€çš„è§£å†³å¤§å®¶çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®å¤§å®¶é€šè¿‡issueçš„æ–¹å¼æ¥åé¦ˆé—®é¢˜ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºbugï¼ŒæœŸæœ›çš„æ–°åŠŸèƒ½ç‰¹æ€§ç­‰ï¼Œæˆ‘ä»¬åœ¨å®ç°æŸä¸€ä¸ªæ–°ç‰¹æ€§æ—¶ä¹Ÿä¼šåœ¨issueä¸­ä½“ç°ï¼Œå¤§å®¶åœ¨è¿™é‡Œä¹Ÿèƒ½å¤Ÿåœ¨è¿™é‡Œè·å–åˆ°go-zeroçš„æœ€æ–°åŠ¨å‘ï¼Œä¹Ÿæ¬¢è¿å¤§å®¶æ¥ç§¯æçš„å‚ä¸è®¨è®ºã€‚ æ€ä¹ˆæIssue ç‚¹å‡»è¿™é‡Œ è¿›å…¥go-zeroçš„Issueé¡µé¢æˆ–è€…ç›´æ¥è®¿é—®https://github.com/tal-tech/go-zero/issues åœ°å€ ç‚¹å‡»å³ä¸Šè§’çš„ã€New issueã€‘æ–°å»ºissue å¡«å†™issueæ ‡é¢˜å’Œå†…å®¹ ç‚¹å‡»ã€Submit new issueã€‘æäº¤issue å‚è€ƒæ–‡æ¡£ Pull request Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 14:46:20 "},"concept-introduction.html":{"url":"concept-introduction.html","title":"æ¦‚å¿µä»‹ç»","keywords":"","body":"æ¦‚å¿µä»‹ç» go-zero æ™“é»‘æ¿golangå¼€æºé¡¹ç›®ï¼Œé›†å„ç§å·¥ç¨‹å®è·µäºä¸€èº«çš„webå’Œrpcæ¡†æ¶ã€‚ goctl ä¸€ä¸ªæ—¨åœ¨ä¸ºå¼€å‘äººå‘˜æé«˜å·¥ç¨‹æ•ˆç‡ã€é™ä½å‡ºé”™ç‡çš„è¾…åŠ©å·¥å…·ã€‚ goctlæ’ä»¶ æŒ‡ä»¥goctlä¸ºä¸­å¿ƒçš„å‘¨è¾¹äºŒè¿›åˆ¶èµ„æºï¼Œèƒ½å¤Ÿæ»¡è¶³ä¸€äº›ä¸ªæ€§åŒ–çš„ä»£ç ç”Ÿæˆéœ€æ±‚ï¼Œå¦‚è·¯ç”±åˆå¹¶æ’ä»¶goctl-go-compactæ’ä»¶ï¼Œ ç”Ÿæˆswaggeræ–‡æ¡£çš„goctl-swaggeræ’ä»¶ï¼Œç”Ÿæˆphpè°ƒç”¨ç«¯çš„goctl-phpæ’ä»¶ç­‰ã€‚ intellij/vscodeæ’ä»¶ åœ¨intellijç³»åˆ—äº§å“ä¸Šé…åˆgoctlå¼€å‘çš„æ’ä»¶ï¼Œå…¶å°†goctlå‘½ä»¤è¡Œæ“ä½œä½¿ç”¨UIè¿›è¡Œæ›¿ä»£ã€‚ apiæ–‡ä»¶ apiæ–‡ä»¶æ˜¯æŒ‡ç”¨äºå®šä¹‰å’Œæè¿°apiæœåŠ¡çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå…¶ä»¥.apiåç¼€ç»“å°¾ï¼ŒåŒ…å«apiè¯­æ³•æè¿°å†…å®¹ã€‚ goctlç¯å¢ƒ goctlç¯å¢ƒæ˜¯ä½¿ç”¨goctlå‰çš„å‡†å¤‡ç¯å¢ƒï¼ŒåŒ…å« golangç¯å¢ƒ protoc protoc-gen-goæ’ä»¶ go module | gopath go-zero-demo go-zero-demoé‡Œé¢åŒ…å«äº†æ–‡æ¡£ä¸­æ‰€æœ‰æºç çš„ä¸€ä¸ªå¤§ä»“åº“ï¼Œåç»­æˆ‘ä»¬åœ¨ç¼–å†™æ¼”ç¤ºdemoæ—¶ï¼Œæˆ‘ä»¬å‡åœ¨æ­¤é¡¹ç›®ä¸‹åˆ›å»ºå­é¡¹ç›®ï¼Œ å› æ­¤æˆ‘ä»¬éœ€è¦æå‰åˆ›å»ºä¸€ä¸ªå¤§ä»“åº“go-zero-demoï¼Œæˆ‘è¿™é‡ŒæŠŠè¿™ä¸ªä»“åº“æ”¾åœ¨homeç›®å½•ä¸‹ã€‚ $ cd ~ $ mkdir go-zero-demo&&cd go-zero-demo $ go mod init go-zero-demo å‚è€ƒæ–‡æ¡£ go-zero Goctl æ’ä»¶ä¸­å¿ƒ å·¥å…·ä¸­å¿ƒ apiè¯­æ³• Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 12:07:00 "},"quick-start.html":{"url":"quick-start.html","title":"å¿«é€Ÿå¼€å‘","keywords":"","body":"å¿«é€Ÿå¼€å‘ æœ¬èŠ‚ä¸»è¦é€šè¿‡å¯¹api/rpcç­‰æœåŠ¡å¿«é€Ÿå¼€å§‹æ¥è®©å¤§å®¶å¯¹ä½¿ç”¨go-zeroå¼€å‘çš„å·¥ç¨‹æœ‰ä¸€ä¸ªå®è§‚æ¦‚å¿µï¼Œ å¯¹äºæ›´åŠ è¯¦ç»†çš„ä»‹ç»æˆ‘ä»¬å°†åœ¨åç»­ä¸€ä¸€å±•å¼€ï¼Œæœ¬èŠ‚å°†åŒ…å«ä¸€ä¸‹å°èŠ‚ï¼š å•ä½“æœåŠ¡ å¾®æœåŠ¡ Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 23:27:45 "},"monolithic-service.html":{"url":"monolithic-service.html","title":"å•ä½“æœåŠ¡","keywords":"","body":"å•ä½“æœåŠ¡ å‰è¨€ ç”±äºgo-zeroé›†æˆäº†web/rpcäºä¸€ä½“ï¼Œç¤¾åŒºæœ‰éƒ¨åˆ†å°ä¼™ä¼´ä¼šé—®æˆ‘ï¼Œgo-zeroçš„å®šä½æ˜¯å¦æ˜¯ä¸€æ¬¾å¾®æœåŠ¡æ¡†æ¶ï¼Œ ç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œgo-zeroè™½ç„¶é›†ä¼—å¤šåŠŸèƒ½äºä¸€èº«ï¼Œä½†ä½ å¯ä»¥å°†å…¶ä¸­ä»»ä½•ä¸€ä¸ªåŠŸèƒ½ç‹¬ç«‹å‡ºæ¥å»å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥å¼€å‘å•ä½“æœåŠ¡ï¼Œ ä¸æ˜¯è¯´æ¯ä¸ªæœåŠ¡ä¸Šæ¥å°±ä¸€å®šè¦é‡‡ç”¨å¾®æœåŠ¡çš„æ¶æ„çš„è®¾è®¡ï¼Œè¿™ç‚¹å¤§å®¶å¯ä»¥çœ‹çœ‹ä½œè€…(kevin)çš„ç¬¬å››æœŸå¼€æºè¯´ ï¼Œå…¶ä¸­å¯¹æ­¤æœ‰è¯¦ç»†çš„è®²è§£ã€‚ åˆ›å»ºgreetæœåŠ¡ $ cd ~/go-zero-demo $ goctl api new greet Done. æŸ¥çœ‹ä¸€ä¸‹greetæœåŠ¡çš„ç»“æ„ $ cd greet $ tree . â”œâ”€â”€ etc â”‚ â””â”€â”€ greet-api.yaml â”œâ”€â”€ go.mod â”œâ”€â”€ greet.api â”œâ”€â”€ greet.go â””â”€â”€ internal â”œâ”€â”€ config â”‚ â””â”€â”€ config.go â”œâ”€â”€ handler â”‚ â”œâ”€â”€ greethandler.go â”‚ â””â”€â”€ routes.go â”œâ”€â”€ logic â”‚ â””â”€â”€ greetlogic.go â”œâ”€â”€ svc â”‚ â””â”€â”€ servicecontext.go â””â”€â”€ types â””â”€â”€ types.go ç”±ä»¥ä¸Šç›®å½•ç»“æ„å¯ä»¥è§‚å¯Ÿåˆ°ï¼ŒgreetæœåŠ¡è™½å°ï¼Œä½†\"äº”è„ä¿±å…¨\"ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥åœ¨greetlogic.goä¸­ç¼–å†™ä¸šåŠ¡ä»£ç äº†ã€‚ ç¼–å†™é€»è¾‘ $ vim ~/go-zero-demo/greet/internal/logic/greetlogic.go func (l *GreetLogic) Greet(req types.Request) (*types.Response, error) { return &types.Response{ Message: \"Hello go-zero\", }, nil } å¯åŠ¨å¹¶è®¿é—®æœåŠ¡ å¯åŠ¨æœåŠ¡ $ cd ~/go-zer-demo/greet $ go run greet.go -f etc/greet-api.yaml Starting server at 0.0.0.0:8888... è®¿é—®æœåŠ¡ $ curl -i -X GET \\ http://localhost:8888/from/you HTTP/1.1 200 OK Content-Type: application/json Date: Sun, 07 Feb 2021 04:31:25 GMT Content-Length: 27 {\"message\":\"Hello go-zero\"} æºç  greetæºç  çŒœä½ æƒ³çœ‹ goctlä½¿ç”¨è¯´æ˜ apiç›®å½•ç»“æ„ä»‹ç» apiè¯­æ³• apié…ç½®æ–‡ä»¶ä»‹ç» apiä¸­é—´ä»¶ä½¿ç”¨ Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 12:45:19 "},"micro-service.html":{"url":"micro-service.html","title":"å¾®æœåŠ¡","keywords":"","body":"å¾®æœåŠ¡ åœ¨ä¸Šä¸€ç¯‡æˆ‘ä»¬å·²ç»æ¼”ç¤ºäº†æ€æ ·å¿«é€Ÿåˆ›å»ºä¸€ä¸ªå•ä½“æœåŠ¡ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•å¿«é€Ÿåˆ›å»ºå¾®æœåŠ¡ï¼Œ åœ¨æœ¬å°èŠ‚ä¸­ï¼Œapiéƒ¨åˆ†å…¶å®å’Œå•ä½“æœåŠ¡çš„åˆ›å»ºé€»è¾‘æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯åœ¨å•ä½“æœåŠ¡ä¸­æ²¡æœ‰æœåŠ¡é—´çš„é€šè®¯è€Œå·²ï¼Œ ä¸”å¾®æœåŠ¡ä¸­apiæœåŠ¡ä¼šå¤šä¸€äº›rpcè°ƒç”¨çš„é…ç½®ã€‚ å‰è¨€ æœ¬å°èŠ‚å°†ä»¥ä¸€ä¸ªè®¢å•æœåŠ¡è°ƒç”¨ç”¨æˆ·æœåŠ¡æ¥ç®€å•æ¼”ç¤ºä¸€ä¸‹ï¼Œæ¼”ç¤ºä»£ç ä»…ä¼ é€’æ€è·¯ï¼Œå…¶ä¸­æœ‰äº›ç¯èŠ‚ä¸ä¼šä¸€ä¸€åˆ—ä¸¾ã€‚ æƒ…æ™¯æè¦ å‡è®¾æˆ‘ä»¬åœ¨å¼€å‘ä¸€ä¸ªå•†åŸé¡¹ç›®ï¼Œè€Œå¼€å‘è€…å°æ˜è´Ÿè´£ç”¨æˆ·æ¨¡å—(user)å’Œè®¢å•æ¨¡å—(order)çš„å¼€å‘ï¼Œæˆ‘ä»¬å§‘ä¸”å°†è¿™ä¸¤ä¸ªæ¨¡å—æ‹†åˆ†æˆä¸¤ä¸ªå¾®æœåŠ¡â‘  [!NOTE] â‘ ï¼šå¾®æœåŠ¡çš„æ‹†åˆ†ä¹Ÿæ˜¯ä¸€é—¨å­¦é—®ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸è®¨è®ºæ€ä¹ˆå»æ‹†åˆ†å¾®æœåŠ¡çš„ç»†èŠ‚äº†ã€‚ æ¼”ç¤ºåŠŸèƒ½ç›®æ ‡ è®¢å•æœåŠ¡(order)æä¾›ä¸€ä¸ªæŸ¥è¯¢æ¥å£ ç”¨æˆ·æœåŠ¡(user)æä¾›ä¸€ä¸ªæ–¹æ³•ä¾›è®¢å•æœåŠ¡è·å–ç”¨æˆ·ä¿¡æ¯ æœåŠ¡è®¾è®¡åˆ†æ æ ¹æ®æƒ…æ™¯æè¦æˆ‘ä»¬å¯ä»¥å¾—çŸ¥ï¼Œè®¢å•æ˜¯ç›´æ¥é¢å‘ç”¨æˆ·ï¼Œé€šè¿‡httpåè®®è®¿é—®æ•°æ®ï¼Œè€Œè®¢å•å†…éƒ¨éœ€è¦è·å–ç”¨æˆ·çš„ä¸€äº›åŸºç¡€æ•°æ®ï¼Œæ—¢ç„¶æˆ‘ä»¬çš„æœåŠ¡æ˜¯é‡‡ç”¨å¾®æœåŠ¡çš„æ¶æ„è®¾è®¡ï¼Œ é‚£ä¹ˆä¸¤ä¸ªæœåŠ¡ï¼ˆuser,orderï¼‰å°±å¿…é¡»è¦è¿›è¡Œæ•°æ®äº¤æ¢ï¼ŒæœåŠ¡é—´çš„æ•°æ®äº¤æ¢å³æœåŠ¡é—´çš„é€šè®¯ï¼Œåˆ°äº†è¿™é‡Œï¼Œé‡‡ç”¨åˆç†çš„é€šè®¯åè®®ä¹Ÿæ˜¯ä¸€ä¸ªå¼€å‘äººå‘˜éœ€è¦ è€ƒè™‘çš„äº‹æƒ…ï¼Œå¯ä»¥é€šè¿‡httpï¼Œrpcç­‰æ–¹å¼æ¥è¿›è¡Œé€šè®¯ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹©rpcæ¥å®ç°æœåŠ¡é—´çš„é€šè®¯ï¼Œç›¸ä¿¡è¿™é‡Œæˆ‘å·²ç»å¯¹\"rpcæœåŠ¡å­˜åœ¨æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ\"å·²ç»ä½œäº†ä¸€ä¸ªæ¯”è¾ƒå¥½çš„åœºæ™¯æè¿°ã€‚ å½“ç„¶ï¼Œä¸€ä¸ªæœåŠ¡å¼€å‘å‰è¿œä¸æ­¢è¿™ç‚¹è®¾è®¡åˆ†æï¼Œæˆ‘ä»¬è¿™é‡Œå°±ä¸è¯¦ç»†æè¿°äº†ã€‚ä»ä¸Šæ–‡å¾—çŸ¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª user rpc order api ä¸¤ä¸ªæœåŠ¡æ¥åˆæ­¥å®ç°è¿™ä¸ªå°demoã€‚ åˆ›å»ºmallå·¥ç¨‹ $ cd ~/go-zero-demo $ mkdir mall && cd mall åˆ›å»ºuser rpcæœåŠ¡ åˆ›å»ºuser rpcæœåŠ¡ $ cd ~/go-zero-demo/mall $ mkdir -p user/rpc&&cd user/rpc æ·»åŠ user.protoæ–‡ä»¶ï¼Œå¢åŠ getUseræ–¹æ³• $ vim ~/go-zero-demo/mall/user/user.proto syntax = \"proto3\"; package user; message IdRequest { string id = 1; } message UserResponse { // ç”¨æˆ·id string id = 1; // ç”¨æˆ·åç§° string name = 2; // ç”¨æˆ·æ€§åˆ« string gender = 3; } service User { rpc getUser(IdRequest) returns(UserResponse); } ç”Ÿæˆä»£ç  $ cd ~/go-zero-demo/mall/user/rpc $ goctl rpc proto -src user.proto -dir . protoc -I=/Users/xx/mall/user user.proto --go_out=plugins=grpc:/Users/xx/mall/user/user Done. å¡«å……ä¸šåŠ¡é€»è¾‘ $ vim vi internal/logic/getuserlogic.go package logic import ( \"context\" \"go-zero-demo/mall/user/internal/svc\" \"go-zero-demo/mall/user/user\" \"github.com/tal-tech/go-zero/core/logx\" ) type GetUserLogic struct { ctx context.Context svcCtx *svc.ServiceContext logx.Logger } func NewGetUserLogic(ctx context.Context, svcCtx *svc.ServiceContext) *GetUserLogic { return &GetUserLogic{ ctx: ctx, svcCtx: svcCtx, Logger: logx.WithContext(ctx), } } func (l *GetUserLogic) GetUser(in *user.IdRequest) (*user.UserResponse, error) { return &user.UserResponse{ Id: \"1\", Name: \"test\", }, nil } åˆ›å»ºorder apiæœåŠ¡ åˆ›å»º order apiæœåŠ¡ $ cd ~/go-zero-demo/mall $ mkdir -p order/api&&cd order/api æ·»åŠ apiæ–‡ä»¶ $ vim order.api type( OrderReq { Id string `path:\"id\"` } OrderReply { Id string `json:\"id\"` Name string `json:\"name\"` } ) service order { @handler getOrder get /api/order/get/:id (OrderReq) returns (OrderReply) } ç”ŸæˆorderæœåŠ¡ $ goctl api go -api order.api -dir . Done. æ·»åŠ user rpcé…ç½® $ vim internal/config/config.go package config import \"github.com/tal-tech/go-zero/rest\" import \"github.com/tal-tech/go-zero/zrpc\" type Config struct { rest.RestConf UserRpc zrpc.RpcClientConf } æ·»åŠ yamlé…ç½® $ vim etc/order.yaml Name: order Host: 0.0.0.0 Port: 8888 UserRpc: Etcd: Hosts: - 127.0.0.1:2379 Key: user.rpc å®Œå–„æœåŠ¡ä¾èµ– $ vim internal/svc/servicecontext.go package svc import ( \"go-zero-demo/mall/order/api/internal/config\" \"go-zero-demo/mall/user/rpc/userclient\" \"github.com/tal-tech/go-zero/zrpc\" ) type ServiceContext struct { Config config.Config UserRpc userclient.User } func NewServiceContext(c config.Config) *ServiceContext { return &ServiceContext{ Config: c, UserRpc: userclient.NewUser(zrpc.MustNewClient(c.UserRpc)), } } æ·»åŠ orderæ¼”ç¤ºé€»è¾‘ ç»™getorderlogicæ·»åŠ ä¸šåŠ¡é€»è¾‘ $ vim ~/go-zero-demo/mall/order/api/internal/logic/getorderlogic.go user, err := l.svcCtx.UserRpc.GetUser(l.ctx, &userclient.IdRequest{ Id: \"1\", }) if err != nil { return nil, err } if user.Name != \"test\" { return nil, errors.New(\"ç”¨æˆ·ä¸å­˜åœ¨\") } return &types.OrderReply{ Id: req.Id, Name: \"test order\", }, nil å¯åŠ¨æœåŠ¡å¹¶éªŒè¯ å¯åŠ¨etcd$ etcd å¯åŠ¨user rpc$ go run user.go -f etc/user.yaml Starting rpc server at 127.0.0.1:8080... [!TIP] å¦‚æœå¯åŠ¨æŠ¥ç±»ä¼¼not enough arguments in call to base.NewBalancerBuilderçš„é”™è¯¯ï¼Œè¯·æŸ¥é˜…å¸¸è§é”™è¯¯å¤„ç† å¯åŠ¨order api$ go run order.go -f etc/order.yaml Starting server at 0.0.0.0:8888... è®¿é—®order api curl -i -X GET \\ http://localhost:8888/api/order/get/1 HTTP/1.1 200 OK Content-Type: application/json Date: Sun, 07 Feb 2021 03:45:05 GMT Content-Length: 30 {\"id\":\"1\",\"name\":\"test order\"} [!TIP] åœ¨æ¼”ç¤ºä¸­çš„æåŠçš„apiè¯­æ³•ï¼Œrpcç”Ÿæˆï¼Œgoctlï¼Œgoctlç¯å¢ƒç­‰æ€ä¹ˆä½¿ç”¨å’Œå®‰è£…ï¼Œå¿«é€Ÿå…¥é—¨ä¸­ä¸ä½œè¯¦ç»†æ¦‚è¿°ï¼Œæˆ‘ä»¬åç»­éƒ½ä¼šæœ‰è¯¦ç»†çš„æ–‡æ¡£è¿›è¡Œæè¿°ï¼Œä½ ä¹Ÿå¯ä»¥ç‚¹å‡»ä¸‹æ–‡çš„ã€çŒœä½ æƒ³çœ‹ã€‘å¿«é€Ÿè·³è½¬çš„å¯¹åº”æ–‡æ¡£æŸ¥çœ‹ã€‚ æºç  mallæºç  çŒœä½ æƒ³çœ‹ goctlä½¿ç”¨è¯´æ˜ apiç›®å½•ç»“æ„ä»‹ç» apiè¯­æ³• apié…ç½®æ–‡ä»¶ä»‹ç» apiä¸­é—´ä»¶ä½¿ç”¨ rpcç›®å½• rpcé…ç½® rpcè°ƒç”¨æ–¹è¯´æ˜ Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 12:45:19 "},"framework-design.html":{"url":"framework-design.html","title":"æ¡†æ¶è®¾è®¡","keywords":"","body":"æ¡†æ¶è®¾è®¡ æœ¬èŠ‚å°†ä»go-zeroçš„è®¾è®¡ç†å¿µï¼Œgo-zerpæœåŠ¡çš„æœ€ä½³å®è·µç›®å½•æ¥è¯´æ˜go-zeroæ¡†æ¶çš„è®¾è®¡ï¼Œæœ¬èŠ‚å°†åŒ…å«ä»¥ä¸‹å°èŠ‚ï¼š go-zeroè®¾è®¡ç†å¿µ apiè¯­æ³•ä»‹ç» apiç›®å½•ç»“æ„ rpcç›®å½•ç»“æ„ Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 14:12:01 "},"go-zero-design.html":{"url":"go-zero-design.html","title":"go-zeroè®¾è®¡ç†å¿µ","keywords":"","body":"go-zeroè®¾è®¡ç†å¿µ å¯¹äºå¾®æœåŠ¡æ¡†æ¶çš„è®¾è®¡ï¼Œæˆ‘ä»¬æœŸæœ›ä¿éšœå¾®æœåŠ¡ç¨³å®šæ€§çš„åŒæ—¶ï¼Œä¹Ÿè¦ç‰¹åˆ«æ³¨é‡ç ”å‘æ•ˆç‡ã€‚æ‰€ä»¥è®¾è®¡ä¹‹åˆï¼Œæˆ‘ä»¬å°±æœ‰å¦‚ä¸‹ä¸€äº›å‡†åˆ™ï¼š ä¿æŒç®€å•ï¼Œç¬¬ä¸€åŸåˆ™ å¼¹æ€§è®¾è®¡ï¼Œé¢å‘æ•…éšœç¼–ç¨‹ å·¥å…·å¤§äºçº¦å®šå’Œæ–‡æ¡£ é«˜å¯ç”¨ é«˜å¹¶å‘ æ˜“æ‰©å±• å¯¹ä¸šåŠ¡å¼€å‘å‹å¥½ï¼Œå°è£…å¤æ‚åº¦ çº¦æŸåšä¸€ä»¶äº‹åªæœ‰ä¸€ç§æ–¹å¼ Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 13:38:52 "},"go-zero-features.html":{"url":"go-zero-features.html","title":"go-zeroç‰¹ç‚¹","keywords":"","body":"go-zeroç‰¹æ€§ go-zero æ˜¯ä¸€ä¸ªé›†æˆäº†å„ç§å·¥ç¨‹å®è·µçš„åŒ…å« web å’Œ rpc æ¡†æ¶ï¼Œæœ‰å¦‚ä¸‹ä¸»è¦ç‰¹ç‚¹ï¼š å¼ºå¤§çš„å·¥å…·æ”¯æŒï¼Œå°½å¯èƒ½å°‘çš„ä»£ç ç¼–å†™ æç®€çš„æ¥å£ å®Œå…¨å…¼å®¹ net/http æ”¯æŒä¸­é—´ä»¶ï¼Œæ–¹ä¾¿æ‰©å±• é«˜æ€§èƒ½ é¢å‘æ•…éšœç¼–ç¨‹ï¼Œå¼¹æ€§è®¾è®¡ å†…å»ºæœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ å†…å»ºé™æµã€ç†”æ–­ã€é™è½½ï¼Œä¸”è‡ªåŠ¨è§¦å‘ï¼Œè‡ªåŠ¨æ¢å¤ API å‚æ•°è‡ªåŠ¨æ ¡éªŒ è¶…æ—¶çº§è”æ§åˆ¶ è‡ªåŠ¨ç¼“å­˜æ§åˆ¶ é“¾è·¯è·Ÿè¸ªã€ç»Ÿè®¡æŠ¥è­¦ç­‰ é«˜å¹¶å‘æ”¯æ’‘ï¼Œç¨³å®šä¿éšœäº†ç–«æƒ…æœŸé—´æ¯å¤©çš„æµé‡æ´ªå³° å¦‚ä¸‹å›¾ï¼Œæˆ‘ä»¬ä»å¤šä¸ªå±‚é¢ä¿éšœäº†æ•´ä½“æœåŠ¡çš„é«˜å¯ç”¨ï¼š Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 14:32:57 "},"api-grammar.html":{"url":"api-grammar.html","title":"apiè¯­æ³•ä»‹ç»","keywords":"","body":"apiè¯­æ³•ä»‹ç» apiç¤ºä¾‹ /** * apiè¯­æ³•ç¤ºä¾‹åŠè¯­æ³•è¯´æ˜ */ // apiè¯­æ³•ç‰ˆæœ¬ syntax = \"v1\" // import literal import \"foo.api\" // import group import ( \"bar.api\" \"foo/bar.api\" ) info( author: \"songmeizi\" date: \"2020-01-08\" desc: \"apiè¯­æ³•ç¤ºä¾‹åŠè¯­æ³•è¯´æ˜\" ) // type literal type Foo{ Foo int `json:\"foo\"` } // type group type( Bar{ Bar int `json:\"bar\"` } ) // service block @server( jwt: Auth group: foo ) service foo-api{ @doc \"foo\" @handler foo post /foo (Foo) returns (Bar) } apiè¯­æ³•ç»“æ„ syntaxè¯­æ³•å£°æ˜ importè¯­æ³•å— infoè¯­æ³•å— typeè¯­æ³•å— serviceè¯­æ³•å— éšè—é€šé“ [!TIP] åœ¨ä»¥ä¸Šè¯­æ³•ç»“æ„ä¸­ï¼Œå„ä¸ªè¯­æ³•å—ä»è¯­æ³•ä¸Šæ¥è¯´ï¼ŒæŒ‰ç…§è¯­æ³•å—ä¸ºå•ä½ï¼Œå¯ä»¥åœ¨.apiæ–‡ä»¶ä¸­ä»»æ„ä½ç½®å£°æ˜ï¼Œ ä½†æ˜¯ä¸ºäº†æé«˜é˜…è¯»æ•ˆç‡ï¼Œæˆ‘ä»¬å»ºè®®æŒ‰ç…§ä»¥ä¸Šé¡ºåºè¿›è¡Œå£°æ˜ï¼Œå› ä¸ºåœ¨å°†æ¥å¯èƒ½ä¼šé€šè¿‡ä¸¥æ ¼æ¨¡å¼æ¥æ§åˆ¶è¯­æ³•å—çš„é¡ºåºã€‚ syntaxè¯­æ³•å£°æ˜ syntaxæ˜¯æ–°åŠ å…¥çš„è¯­æ³•ç»“æ„ï¼Œè¯¥è¯­æ³•çš„å¼•å…¥å¯ä»¥è§£å†³ï¼š å¿«é€Ÿé’ˆå¯¹apiç‰ˆæœ¬å®šä½å­˜åœ¨é—®é¢˜çš„è¯­æ³•ç»“æ„ é’ˆå¯¹ç‰ˆæœ¬åšè¯­æ³•è§£æ é˜²æ­¢apiè¯­æ³•å¤§ç‰ˆæœ¬å‡çº§å¯¼è‡´å‰åä¸èƒ½å‘å‰å…¼å®¹ **[!WARNING] è¢«importçš„apiå¿…é¡»è¦å’Œmain apiçš„syntaxç‰ˆæœ¬ä¸€è‡´ã€‚ è¯­æ³•å®šä¹‰ 'syntax'={checkVersion(p)}STRING è¯­æ³•è¯´æ˜ syntaxï¼šå›ºå®štokenï¼Œæ ‡å¿—ä¸€ä¸ªsyntaxè¯­æ³•ç»“æ„çš„å¼€å§‹ checkVersionï¼šè‡ªå®šä¹‰goæ–¹æ³•ï¼Œæ£€æµ‹STRINGæ˜¯å¦ä¸ºä¸€ä¸ªåˆæ³•çš„ç‰ˆæœ¬å·ï¼Œç›®å‰æ£€æµ‹é€»è¾‘ä¸ºï¼ŒSTRINGå¿…é¡»æ˜¯æ»¡è¶³(?m)\"v[1-9][0-9]*\"æ­£åˆ™ã€‚ STRINGï¼šä¸€ä¸²è‹±æ–‡åŒå¼•å·åŒ…è£¹çš„å­—ç¬¦ä¸²ï¼Œå¦‚\"v1\" ä¸€ä¸ªapiè¯­æ³•æ–‡ä»¶åªèƒ½æœ‰0æˆ–è€…1ä¸ªsyntaxè¯­æ³•å£°æ˜ï¼Œå¦‚æœæ²¡æœ‰syntaxï¼Œåˆ™é»˜è®¤ä¸ºv1ç‰ˆæœ¬ æ­£ç¡®è¯­æ³•ç¤ºä¾‹ âœ… eg1ï¼šä¸è§„èŒƒå†™æ³• syntax=\"v1\" eg2ï¼šè§„èŒƒå†™æ³•(æ¨è) syntax = \"v2\" é”™è¯¯è¯­æ³•ç¤ºä¾‹ âŒ eg1ï¼š syntax = \"v0\" eg2ï¼š syntax = v1 eg3ï¼š syntax = \"V1\" importè¯­æ³•å— éšç€ä¸šåŠ¡è§„æ¨¡å¢å¤§ï¼Œapiä¸­å®šä¹‰çš„ç»“æ„ä½“å’ŒæœåŠ¡è¶Šæ¥è¶Šå¤šï¼Œæ‰€æœ‰çš„è¯­æ³•æè¿°å‡ä¸ºä¸€ä¸ªapiæ–‡ä»¶ï¼Œè¿™æ˜¯å¤šä¹ˆç³Ÿç³•çš„ä¸€ä¸ªé—®é¢˜ï¼Œ å…¶ä¼šå¤§å¤§å¢åŠ äº†é˜…è¯»éš¾åº¦å’Œç»´æŠ¤éš¾åº¦ï¼Œimportè¯­æ³•å—å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé€šè¿‡æ‹†åˆ†apiæ–‡ä»¶ï¼Œ ä¸åŒçš„apiæ–‡ä»¶æŒ‰ç…§ä¸€å®šè§„åˆ™å£°æ˜ï¼Œå¯ä»¥é™ä½é˜…è¯»éš¾åº¦å’Œç»´æŠ¤éš¾åº¦ã€‚ **[!WARNING] è¿™é‡Œimportä¸åƒgolangé‚£æ ·åŒ…å«packageå£°æ˜ï¼Œä»…ä»…æ˜¯ä¸€ä¸ªæ–‡ä»¶è·¯å¾„çš„å¼•å…¥ï¼Œæœ€ç»ˆè§£æåä¼šæŠŠæ‰€æœ‰çš„å£°æ˜éƒ½æ±‡èšåˆ°ä¸€ä¸ªspec.Specä¸­ã€‚ ä¸èƒ½importå¤šä¸ªç›¸åŒè·¯å¾„ï¼Œå¦åˆ™ä¼šè§£æé”™è¯¯ã€‚ è¯­æ³•å®šä¹‰ 'import' {checkImportValue(p)}STRING |'import' '(' ({checkImportValue(p)}STRING)+ ')' è¯­æ³•è¯´æ˜ importï¼šå›ºå®štokenï¼Œæ ‡å¿—ä¸€ä¸ªimportè¯­æ³•çš„å¼€å§‹ checkImportValueï¼šè‡ªå®šä¹‰goæ–¹æ³•ï¼Œæ£€æµ‹STRINGæ˜¯å¦ä¸ºä¸€ä¸ªåˆæ³•çš„æ–‡ä»¶è·¯å¾„ï¼Œç›®å‰æ£€æµ‹é€»è¾‘ä¸ºï¼ŒSTRINGå¿…é¡»æ˜¯æ»¡è¶³(?m)\"(/?[a-zA-Z0-9_#-])+\\.api\"æ­£åˆ™ã€‚ STRINGï¼šä¸€ä¸²è‹±æ–‡åŒå¼•å·åŒ…è£¹çš„å­—ç¬¦ä¸²ï¼Œå¦‚\"foo.api\" æ­£ç¡®è¯­æ³•ç¤ºä¾‹ âœ… egï¼š import \"foo.api\" import \"foo/bar.api\" import( \"bar.api\" \"foo/bar/foo.api\" ) é”™è¯¯è¯­æ³•ç¤ºä¾‹ âŒ egï¼š import foo.api import \"foo.txt\" import ( bar.api bar.api ) infoè¯­æ³•å— infoè¯­æ³•å—æ˜¯ä¸€ä¸ªåŒ…å«äº†å¤šä¸ªé”®å€¼å¯¹çš„è¯­æ³•ä½“ï¼Œå…¶ä½œç”¨ç›¸å½“äºä¸€ä¸ªapiæœåŠ¡çš„æè¿°ï¼Œè§£æå™¨ä¼šå°†å…¶æ˜ å°„åˆ°spec.Specä¸­ï¼Œ ä»¥å¤‡ç”¨äºç¿»è¯‘æˆå…¶ä»–è¯­è¨€(golangã€javaç­‰) æ—¶éœ€è¦æºå¸¦çš„metaå…ƒç´ ã€‚å¦‚æœä»…ä»…æ˜¯å¯¹å½“å‰apiçš„ä¸€ä¸ªè¯´æ˜ï¼Œè€Œä¸è€ƒè™‘å…¶ç¿»è¯‘ æ—¶ä¼ é€’åˆ°å…¶ä»–è¯­è¨€ï¼Œåˆ™ä½¿ç”¨ç®€å•çš„å¤šè¡Œæ³¨é‡Šæˆ–è€…javaé£æ ¼çš„æ–‡æ¡£æ³¨é‡Šå³å¯ï¼Œå…³äºæ³¨é‡Šè¯´æ˜è¯·å‚è€ƒä¸‹æ–‡çš„ éšè—é€šé“ã€‚ **[!WARNING] ä¸èƒ½ä½¿ç”¨é‡å¤çš„keyï¼Œæ¯ä¸ªapiæ–‡ä»¶åªèƒ½æœ‰0æˆ–è€…1ä¸ªinfoè¯­æ³•å— è¯­æ³•å®šä¹‰ 'info' '(' (ID {checkKeyValue(p)}VALUE)+ ')' è¯­æ³•è¯´æ˜ infoï¼šå›ºå®štokenï¼Œæ ‡å¿—ä¸€ä¸ªinfoè¯­æ³•å—çš„å¼€å§‹ checkKeyValueï¼šè‡ªå®šä¹‰goæ–¹æ³•ï¼Œæ£€æµ‹VALUEæ˜¯å¦ä¸ºä¸€ä¸ªåˆæ³•å€¼ã€‚ VALUEï¼škeyå¯¹åº”çš„å€¼ï¼Œå¯ä»¥ä¸ºå•è¡Œçš„é™¤'\\r','\\n','/'åçš„ä»»æ„å­—ç¬¦ï¼Œå¤šè¡Œè¯·ä»¥\"\"åŒ…è£¹ï¼Œä¸è¿‡å¼ºçƒˆå»ºè®®æ‰€æœ‰éƒ½ä»¥\"\"åŒ…è£¹ æ­£ç¡®è¯­æ³•ç¤ºä¾‹ âœ… eg1ï¼šä¸è§„èŒƒå†™æ³• info( foo: foo value bar:\"bar value\" desc:\"long long long long long long text\" ) eg2ï¼šè§„èŒƒå†™æ³•(æ¨è) info( foo: \"foo value\" bar: \"bar value\" desc: \"long long long long long long text\" ) é”™è¯¯è¯­æ³•ç¤ºä¾‹ âŒ eg1ï¼šæ²¡æœ‰key-valueå†…å®¹ info() eg2ï¼šä¸åŒ…å«å†’å· info( foo value ) eg3ï¼škey-valueæ²¡æœ‰æ¢è¡Œ info(foo:\"value\") eg4ï¼šæ²¡æœ‰key info( : \"value\" ) eg5ï¼šéæ³•çš„key info( 12: \"value\" ) eg6ï¼šç§»é™¤æ—§ç‰ˆæœ¬å¤šè¡Œè¯­æ³• info( foo: > some text typeè¯­æ³•å— åœ¨apiæœåŠ¡ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸€ä¸ªç»“æ„ä½“(ç±»)æ¥ä½œä¸ºè¯·æ±‚ä½“ï¼Œå“åº”ä½“çš„è½½ä½“ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å£°æ˜ä¸€äº›ç»“æ„ä½“æ¥å®Œæˆè¿™ä»¶äº‹æƒ…ï¼Œ typeè¯­æ³•å—ç”±golangçš„typeæ¼”å˜è€Œæ¥ï¼Œå½“ç„¶ä¹Ÿä¿ç•™ç€ä¸€äº›golang typeçš„ç‰¹æ€§ï¼Œæ²¿ç”¨golangç‰¹æ€§æœ‰ï¼š ä¿ç•™äº†golangå†…ç½®æ•°æ®ç±»å‹bool,int,int8,int16,int32,int64,uint,uint8,uint16,uint32,uint64,uintptr ,float32,float64,complex64,complex128,string,byte,rune, å…¼å®¹golang structé£æ ¼å£°æ˜ ä¿ç•™golangå…³é”®å­— **[!WARNING]ï¸ ä¸æ”¯æŒalias ä¸æ”¯æŒtime.Timeæ•°æ®ç±»å‹ ç»“æ„ä½“åç§°ã€å­—æ®µåç§°ã€ä¸èƒ½ä¸ºgolangå…³é”®å­— è¯­æ³•å®šä¹‰ ç”±äºå…¶å’Œgolangç›¸ä¼¼ï¼Œå› æ­¤ä¸åšè¯¦ç»†è¯´æ˜ï¼Œå…·ä½“è¯­æ³•å®šä¹‰è¯·åœ¨ApiParser.g4ä¸­æŸ¥çœ‹typeSpecå®šä¹‰ã€‚ è¯­æ³•è¯´æ˜ å‚è€ƒgolangå†™æ³• æ­£ç¡®è¯­æ³•ç¤ºä¾‹ âœ… eg1ï¼šä¸è§„èŒƒå†™æ³• type Foo struct{ Id int `path:\"id\"` // â‘  Foo int `json:\"foo\"` } type Bar struct{ // éå¯¼å‡ºå‹å­—æ®µ bar int `form:\"bar\"` } type( // éå¯¼å‡ºå‹ç»“æ„ä½“ fooBar struct{ FooBar int } ) eg2ï¼šè§„èŒƒå†™æ³•ï¼ˆæ¨èï¼‰ type Foo{ Id int `path:\"id\"` Foo int `json:\"foo\"` } type Bar{ Bar int `form:\"bar\"` } type( FooBar{ FooBar int } ) é”™è¯¯è¯­æ³•ç¤ºä¾‹ âŒ eg type Gender int // ä¸æ”¯æŒ // éstruct token type Foo structure{ CreateTime time.Time // ä¸æ”¯æŒtime.Time } // golangå…³é”®å­— var type var{} type Foo{ // golangå…³é”®å­— interface Foo interface } type Foo{ foo int // map keyå¿…é¡»è¦golangå†…ç½®æ•°æ®ç±»å‹ m map[Bar]string } [!NOTE] â‘  tagå®šä¹‰å’Œgolangä¸­json tagè¯­æ³•ä¸€æ ·ï¼Œé™¤äº†json tagå¤–ï¼Œgo-zeroè¿˜æä¾›äº†å¦å¤–ä¸€äº›tagæ¥å®ç°å¯¹å­—æ®µçš„æè¿°ï¼Œ è¯¦æƒ…è§ä¸‹è¡¨ã€‚ tagè¡¨ tag key æè¿° æä¾›æ–¹æœ‰æ•ˆèŒƒå›´ ç¤ºä¾‹ json jsonåºåˆ—åŒ–tag golang requestã€response json:\"fooo\" path è·¯ç”±pathï¼Œå¦‚/foo/:id go-zero request path:\"id\" form æ ‡å¿—è¯·æ±‚ä½“æ˜¯ä¸€ä¸ªformï¼ˆPOSTæ–¹æ³•æ—¶ï¼‰æˆ–è€…ä¸€ä¸ªquery(GETæ–¹æ³•æ—¶/search?name=keyword) go-zero request form:\"name\" tagä¿®é¥°ç¬¦ å¸¸è§å‚æ•°æ ¡éªŒæè¿° tag key æè¿° æä¾›æ–¹ æœ‰æ•ˆèŒƒå›´ ç¤ºä¾‹ optional å®šä¹‰å½“å‰å­—æ®µä¸ºå¯é€‰å‚æ•° go-zero request json:\"name,optional\" options å®šä¹‰å½“å‰å­—æ®µçš„æšä¸¾å€¼,å¤šä¸ªä»¥ç«–çº¿|éš”å¼€ go-zero request json:\"gender,options=male\" default å®šä¹‰å½“å‰å­—æ®µé»˜è®¤å€¼ go-zero request json:\"gender,default=male\" range å®šä¹‰å½“å‰å­—æ®µæ•°å€¼èŒƒå›´ go-zero request json:\"age,range=[0:120]\" [!TIP] tagä¿®é¥°ç¬¦éœ€è¦åœ¨tag valueåä»¥å¼•æ–‡é€—å·,éš”å¼€ serviceè¯­æ³•å— serviceè¯­æ³•å—ç”¨äºå®šä¹‰apiæœåŠ¡ï¼ŒåŒ…å«æœåŠ¡åç§°ï¼ŒæœåŠ¡metadataï¼Œä¸­é—´ä»¶å£°æ˜ï¼Œè·¯ç”±ï¼Œhandlerç­‰ã€‚ **[!WARNING]ï¸ main apiå’Œè¢«importçš„apiæœåŠ¡åç§°å¿…é¡»ä¸€è‡´ï¼Œä¸èƒ½å‡ºç°æœåŠ¡åç§°æ­§ä¹‰ã€‚ handleråç§°ä¸èƒ½é‡å¤ è·¯ç”±ï¼ˆè¯·æ±‚æ–¹æ³•+è¯·æ±‚pathï¼‰åç§°ä¸èƒ½é‡å¤ è¯·æ±‚ä½“å¿…é¡»å£°æ˜ä¸ºæ™®é€šï¼ˆéæŒ‡é’ˆï¼‰structï¼Œå“åº”ä½“åšäº†ä¸€äº›å‘å‰å…¼å®¹å¤„ç†ï¼Œè¯¦è¯·è§ä¸‹æ–‡è¯´æ˜ è¯­æ³•å®šä¹‰ serviceSpec: atServer? serviceApi; atServer: '@server' lp='(' kvLit+ rp=')'; serviceApi: {match(p,\"service\")}serviceToken=ID serviceName lbrace='{' serviceRoute* rbrace='}'; serviceRoute: atDoc? (atServer|atHandler) route; atDoc: '@doc' lp='('? ((kvLit+)|STRING) rp=')'?; atHandler: '@handler' ID; route: {checkHttpMethod(p)}httpMethod=ID path request=body? returnToken=ID? response=replybody?; body: lp='(' (ID)? rp=')'; replybody: lp='(' dataType? rp=')'; // kv kvLit: key=ID {checkKeyValue(p)}value=LINE_VALUE; serviceName: (ID '-'?)+; path: (('/' (ID ('-' ID)*))|('/:' (ID ('-' ID)?)))+; è¯­æ³•è¯´æ˜ serviceSpecï¼šåŒ…å«äº†ä¸€ä¸ªå¯é€‰è¯­æ³•å—atServerå’ŒserviceApiè¯­æ³•å—ï¼Œå…¶éµå¾ªåºåˆ—æ¨¡å¼ï¼ˆç¼–å†™serviceå¿…é¡»è¦æŒ‰ç…§é¡ºåºï¼Œå¦åˆ™ä¼šè§£æå‡ºé”™ï¼‰ atServerï¼š å¯é€‰è¯­æ³•å—ï¼Œå®šä¹‰key-valueç»“æ„çš„server metadataï¼Œ'@server' è¡¨ç¤ºè¿™ä¸€ä¸ªserverè¯­æ³•å—çš„å¼€å§‹ï¼Œå…¶å¯ä»¥ç”¨äºæè¿°serviceApiæˆ–è€…routeè¯­æ³•å—ï¼Œå…¶ç”¨äºæè¿°ä¸åŒè¯­æ³•å—æ—¶æœ‰ä¸€äº›ç‰¹æ®Šå…³é”®key éœ€è¦å€¼å¾—æ³¨æ„ï¼Œè§ atServerå…³é”®keyæè¿°è¯´æ˜ã€‚ serviceApiï¼šåŒ…å«äº†1åˆ°å¤šä¸ªserviceRouteè¯­æ³•å— serviceRouteï¼šæŒ‰ç…§åºåˆ—æ¨¡å¼åŒ…å«äº†atDoc,handlerå’Œroute atDocï¼šå¯é€‰è¯­æ³•å—ï¼Œä¸€ä¸ªè·¯ç”±çš„key-valueæè¿°ï¼Œå…¶åœ¨è§£æåä¼šä¼ é€’åˆ°spec.Specç»“æ„ä½“ï¼Œå¦‚æœä¸å…³å¿ƒä¼ é€’åˆ°spec.Spec, æ¨èç”¨å•è¡Œæ³¨é‡Šæ›¿ä»£ã€‚ handlerï¼šæ˜¯å¯¹è·¯ç”±çš„handlerå±‚æè¿°ï¼Œå¯ä»¥é€šè¿‡atServeræŒ‡å®šhandler keyæ¥æŒ‡å®šhandleråç§°ï¼Œ ä¹Ÿå¯ä»¥ç›´æ¥ç”¨atHandlerè¯­æ³•å—æ¥å®šä¹‰handleråç§° atHandlerï¼š'@handler' å›ºå®štokenï¼Œåæ¥ä¸€ä¸ªéµå¾ªæ­£åˆ™[_a-zA-Z][a-zA-Z_-]*)çš„å€¼ï¼Œç”¨äºå£°æ˜ä¸€ä¸ªhandleråç§° routeï¼šè·¯ç”±ï¼Œæœ‰httpMethodã€pathã€å¯é€‰requestã€å¯é€‰responseç»„æˆï¼ŒhttpMethodæ˜¯å¿…é¡»æ˜¯å°å†™ã€‚ bodyï¼šapiè¯·æ±‚ä½“è¯­æ³•å®šä¹‰ï¼Œå¿…é¡»è¦ç”±()åŒ…è£¹çš„å¯é€‰çš„IDå€¼ replyBodyï¼šapiå“åº”ä½“è¯­æ³•å®šä¹‰ï¼Œå¿…é¡»ç”±()åŒ…è£¹çš„structã€array(å‘å‰å…¼å®¹å¤„ç†ï¼Œåç»­å¯èƒ½ä¼šåºŸå¼ƒï¼Œå¼ºçƒˆæ¨èä»¥structåŒ…è£¹ï¼Œä¸è¦ç›´æ¥ç”¨arrayä½œä¸ºå“åº”ä½“) kvLitï¼š åŒinfo key-value serviceName: å¯ä»¥æœ‰å¤šä¸ª'-'joinçš„IDå€¼ pathï¼šapiè¯·æ±‚è·¯å¾„ï¼Œå¿…é¡»ä»¥'/'æˆ–è€…'/:'å¼€å¤´ï¼Œåˆ‡ä¸èƒ½ä»¥'/'ç»“å°¾ï¼Œä¸­é—´å¯åŒ…å«IDæˆ–è€…å¤šä¸ªä»¥'-'joinçš„IDå­—ç¬¦ä¸² atServerå…³é”®keyæè¿°è¯´æ˜ ä¿®é¥°serviceæ—¶ keyæè¿°ç¤ºä¾‹ jwtå£°æ˜å½“å‰serviceä¸‹æ‰€æœ‰è·¯ç”±éœ€è¦jwté‰´æƒï¼Œä¸”ä¼šè‡ªåŠ¨ç”ŸæˆåŒ…å«jwté€»è¾‘çš„ä»£ç jwt: Auth groupå£°æ˜å½“å‰serviceæˆ–è€…è·¯ç”±æ–‡ä»¶åˆ†ç»„group: login middlewareå£°æ˜å½“å‰serviceéœ€è¦å¼€å¯ä¸­é—´ä»¶middleware: AuthMiddleware ä¿®é¥°routeæ—¶ keyæè¿°ç¤ºä¾‹ handlerå£°æ˜ä¸€ä¸ªhandler- æ­£ç¡®è¯­æ³•ç¤ºä¾‹ âœ… eg1ï¼šä¸è§„èŒƒå†™æ³• @server( jwt: Auth group: foo middleware: AuthMiddleware ) service foo-api{ @doc( summary: foo ) @server( handler: foo ) // éå¯¼å‡ºå‹body post /foo/:id (foo) returns (bar) @doc \"bar\" @handler bar post /bar returns ([]int)// ä¸æ¨èæ•°ç»„ä½œä¸ºå“åº”ä½“ @handler fooBar post /foo/bar (Foo) returns // å¯ä»¥çœç•¥'returns' } eg2ï¼šè§„èŒƒå†™æ³•ï¼ˆæ¨èï¼‰ @server( jwt: Auth group: foo middleware: AuthMiddleware ) service foo-api{ @doc \"foo\" @handler: foo post /foo/:id (Foo) returns (Bar) } service foo-api{ @handler ping get /ping @doc \"foo\" @handler: bar post /bar/:id (Foo) } é”™è¯¯è¯­æ³•ç¤ºä¾‹ âŒ // ä¸æ”¯æŒç©ºçš„serverè¯­æ³•å— @server( ) // ä¸æ”¯æŒç©ºçš„serviceè¯­æ³•å— service foo-api{ } service foo-api{ @doc kkkk // ç®€ç‰ˆdocå¿…é¡»ç”¨è‹±æ–‡åŒå¼•å·å¼•èµ·æ¥ @handler foo post /foo @handler foo // é‡å¤çš„handler post /bar @handler fooBar post /bar // é‡å¤çš„è·¯ç”± // @handlerå’Œ@docé¡ºåºé”™è¯¯ @handler someHandler @doc \"some doc\" post /some/path // handlerç¼ºå¤± post /some/path/:id @handler reqTest post /foo/req (*Foo) // ä¸æ”¯æŒé™¤æ™®é€šç»“æ„ä½“å¤–çš„å…¶ä»–æ•°æ®ç±»å‹ä½œä¸ºè¯·æ±‚ä½“ @handler replyTest post /foo/reply returns (*Foo) // ä¸æ”¯æŒé™¤æ™®é€šç»“æ„ä½“ã€æ•°ç»„(å‘å‰å…¼å®¹ï¼Œåç»­è€ƒè™‘åºŸå¼ƒ)å¤–çš„å…¶ä»–æ•°æ®ç±»å‹ä½œä¸ºå“åº”ä½“ } éšè—é€šé“ éšè—é€šé“ç›®å‰ä¸»è¦ä¸ºç©ºç™¾ç¬¦å·ï¼Œæ¢è¡Œç¬¦å·ä»¥åŠæ³¨é‡Šï¼Œè¿™é‡Œæˆ‘ä»¬åªè¯´æ³¨é‡Šï¼Œå› ä¸ºç©ºç™½ç¬¦å·å’Œæ¢è¡Œç¬¦å·æˆ‘ä»¬ç›®å‰æ‹¿æ¥ä¹Ÿæ— ç”¨ã€‚ å•è¡Œæ³¨é‡Š è¯­æ³•å®šä¹‰ '//' ~[\\r\\n]* è¯­æ³•è¯´æ˜ ç”±è¯­æ³•å®šä¹‰å¯çŸ¥é“ï¼Œå•è¡Œæ³¨é‡Šå¿…é¡»è¦ä»¥//å¼€å¤´ï¼Œå†…å®¹ä¸ºä¸èƒ½åŒ…å«æ¢è¡Œç¬¦ æ­£ç¡®è¯­æ³•ç¤ºä¾‹ âœ… // doc // comment é”™è¯¯è¯­æ³•ç¤ºä¾‹ âŒ // break line comments javaé£æ ¼æ–‡æ¡£æ³¨é‡Š è¯­æ³•å®šä¹‰ '/*' .*? '*/' è¯­æ³•è¯´æ˜ ç”±è¯­æ³•å®šä¹‰å¯çŸ¥é“ï¼Œå•è¡Œæ³¨é‡Šå¿…é¡»è¦ä»¥/*å¼€å¤´ï¼Œ*/ç»“å°¾çš„ä»»æ„å­—ç¬¦ã€‚ æ­£ç¡®è¯­æ³•ç¤ºä¾‹ âœ… /** * java-style doc */ é”™è¯¯è¯­æ³•ç¤ºä¾‹ âŒ /* * java-style doc */ */ Doc&Comment å¦‚æœæƒ³è·å–æŸä¸€ä¸ªå…ƒç´ çš„docæˆ–è€…commentå¼€å‘äººå‘˜éœ€è¦æ€ä¹ˆå®šä¹‰ï¼Ÿ Doc æˆ‘ä»¬è§„å®šä¸Šä¸€ä¸ªè¯­æ³•å—ï¼ˆééšè—é€šé“å†…å®¹ï¼‰çš„è¡Œæ•°line+1åˆ°å½“å‰è¯­æ³•å—ç¬¬ä¸€ä¸ªå…ƒç´ å‰çš„æ‰€æœ‰æ³¨é‡Š(å½“è¡Œï¼Œæˆ–è€…å¤šè¡Œ)å‡ä¸ºdocï¼Œ ä¸”ä¿ç•™äº†//ã€/*ã€*/åŸå§‹æ ‡è®°ã€‚ Comment æˆ‘ä»¬è§„å®šå½“å‰è¯­æ³•å—æœ€åä¸€ä¸ªå…ƒç´ æ‰€åœ¨è¡Œå¼€å§‹çš„ä¸€ä¸ªæ³¨é‡Šå—(å½“è¡Œï¼Œæˆ–è€…å¤šè¡Œ)ä¸ºcomment ä¸”ä¿ç•™äº†//ã€/*ã€*/åŸå§‹æ ‡è®°ã€‚ è¯­æ³•å—Docå’ŒCommentçš„æ”¯æŒæƒ…å†µ è¯­æ³•å—parentè¯­æ³•å—DocComment syntaxLitapiâœ…âœ… kvLitinfoSpecâœ…âœ… importLitimportSpecâœ…âœ… typeLitapiâœ…âŒ typeLittypeBlockâœ…âŒ fieldtypeLitâœ…âœ… key-valueatServerâœ…âœ… atHandlerserviceRouteâœ…âœ… routeserviceRouteâœ…âœ… ä»¥ä¸‹ä¸ºå¯¹åº”è¯­æ³•å—è§£æåç»†å¸¦docå’Œcommentçš„å†™æ³• // syntaxLit doc syntax = \"v1\" // syntaxLit commnet info( // kvLit doc author: songmeizi // kvLit comment ) // typeLit doc type Foo {} type( // typeLit doc Bar{} FooBar{ // filed doc Name int // filed comment } ) @server( /** * kvLit doc * å¼€å¯jwté‰´æƒ */ jwt: Auth /**kvLit comment*/ ) service foo-api{ // atHandler doc @handler foo //atHandler comment /* * route doc * postè¯·æ±‚ * pathä¸º /foo * è¯·æ±‚ä½“ï¼šFoo * å“åº”ä½“ï¼šFoo */ post /foo (Foo) returns (Foo) // route comment } Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 14:20:33 "},"api-dir.html":{"url":"api-dir.html","title":"apiç›®å½•ç»“æ„","keywords":"","body":"apiç›®å½•ä»‹ç» . â”œâ”€â”€ etc â”‚ â””â”€â”€ greet-api.yaml // é…ç½®æ–‡ä»¶ â”œâ”€â”€ go.mod // modæ–‡ä»¶ â”œâ”€â”€ greet.api // apiæè¿°æ–‡ä»¶ â”œâ”€â”€ greet.go // mainå‡½æ•°å…¥å£ â””â”€â”€ internal â”œâ”€â”€ config â”‚ â””â”€â”€ config.go // é…ç½®å£°æ˜type â”œâ”€â”€ handler // è·¯ç”±åŠhandlerè½¬å‘ â”‚ â”œâ”€â”€ greethandler.go â”‚ â””â”€â”€ routes.go â”œâ”€â”€ logic // ä¸šåŠ¡é€»è¾‘ â”‚ â””â”€â”€ greetlogic.go â”œâ”€â”€ middleware // ä¸­é—´ä»¶æ–‡ä»¶ â”‚ â””â”€â”€ greetmiddleware.go â”œâ”€â”€ svc // logicæ‰€ä¾èµ–çš„èµ„æºæ±  â”‚ â””â”€â”€ servicecontext.go â””â”€â”€ types // requestã€responseçš„structï¼Œæ ¹æ®apiè‡ªåŠ¨ç”Ÿæˆï¼Œä¸å»ºè®®ç¼–è¾‘ â””â”€â”€ types.go Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 14:07:09 "},"rpc-dir.html":{"url":"rpc-dir.html","title":"rpcç›®å½•ç»“æ„","keywords":"","body":"rpcæœåŠ¡ç›®å½• . â”œâ”€â”€ etc // yamlé…ç½®æ–‡ä»¶ â”‚ â””â”€â”€ greet.yaml â”œâ”€â”€ go.mod â”œâ”€â”€ greet // pb.goæ–‡ä»¶å¤¹â‘  â”‚ â””â”€â”€ greet.pb.go â”œâ”€â”€ greet.go // mainå‡½æ•° â”œâ”€â”€ greet.proto // proto æ–‡ä»¶ â”œâ”€â”€ greetclient // call logic â‘¡ â”‚ â””â”€â”€ greet.go â””â”€â”€ internal â”œâ”€â”€ config // yamlé…ç½®å¯¹åº”çš„å®ä½“ â”‚ â””â”€â”€ config.go â”œâ”€â”€ logic // ä¸šåŠ¡ä»£ç  â”‚ â””â”€â”€ pinglogic.go â”œâ”€â”€ server // rpc server â”‚ â””â”€â”€ greetserver.go â””â”€â”€ svc // ä¾èµ–èµ„æº â””â”€â”€ servicecontext.go [!TIP] â‘  pbæ–‡ä»¶å¤¹åï¼ˆè€ç‰ˆæœ¬æ–‡ä»¶å¤¹å›ºå®šä¸ºpbï¼‰ç§°å–è‡ªäºprotoæ–‡ä»¶ä¸­option go_packageçš„å€¼æœ€åä¸€å±‚çº§æŒ‰ç…§ä¸€å®šæ ¼å¼è¿›è¡Œè½¬æ¢ï¼Œè‹¥æ— æ­¤å£°æ˜ï¼Œåˆ™å–è‡ªäºpackageçš„å€¼ï¼Œå¤§è‡´ä»£ç å¦‚ä¸‹ï¼š if option.Name == \"go_package\" { ret.GoPackage = option.Constant.Source } ... if len(ret.GoPackage) == 0 { ret.GoPackage = ret.Package.Name } ret.PbPackage = GoSanitized(filepath.Base(ret.GoPackage)) ... [!TIP] GoSanitizedæ–¹æ³•è¯·å‚è€ƒgoogle.golang.org/protobuf@v1.25.0/internal/strs/strings.go:71 [!TIP] â‘¡ call å±‚æ–‡ä»¶å¤¹åç§°å–è‡ªäºprotoä¸­serviceçš„åç§°ï¼Œå¦‚è¯¥serciceçš„åç§°å’Œpbæ–‡ä»¶å¤¹åç§°ç›¸ç­‰ï¼Œåˆ™ä¼šåœ¨srerviceåé¢è¡¥å……clientè¿›è¡ŒåŒºåˆ†ï¼Œä½¿pbå’Œcallåˆ†éš”ã€‚ if strings.ToLower(proto.Service.Name) == strings.ToLower(proto.GoPackage) { callDir = filepath.Join(ctx.WorkDir, strings.ToLower(stringx.From(proto.Service.Name+\"_client\").ToCamel())) } Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 14:09:55 "},"project-dev.html":{"url":"project-dev.html","title":"é¡¹ç›®å¼€å‘","keywords":"","body":"é¡¹ç›®å¼€å‘ åœ¨å‰é¢çš„ç« èŠ‚æˆ‘ä»¬å·²ç»ä»ä¸€äº›æ¦‚å¿µã€èƒŒæ™¯ã€å¿«é€Ÿå…¥é—¨ç­‰ç»´åº¦ä»‹ç»äº†ä¸€ä¸‹go-zeroï¼Œçœ‹åˆ°è¿™é‡Œï¼Œç›¸ä¿¡ä½ å¯¹go-zeroå·²ç»æœ‰äº†ä¸€äº›äº†è§£ï¼Œ ä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘ä»¬å°†ä¼šä»ç¯å¢ƒå‡†å¤‡åˆ°æœåŠ¡éƒ¨ç½²æ•´ä¸ªæµç¨‹å¼€å§‹è¿›è¡Œè®²è§£ï¼Œä¸ºäº†ä¿è¯å¤§å®¶èƒ½å¤Ÿå½»åº•å¼„æ‡‚go-zeroçš„å¼€å‘æµç¨‹ï¼Œé‚£å°±å‡†å¤‡ä½ çš„è€å¿ƒæ¥æ¥ç€å¾€ä¸‹èµ°å§ã€‚ åœ¨ç« èŠ‚ä¸­ï¼Œå°†åŒ…å«ä»¥ä¸‹å°èŠ‚ï¼š å‡†å¤‡å·¥ä½œ golangå®‰è£… goctlå®‰è£… protoc&protoc-gen-goå®‰è£… go modé…ç½® å¼€å‘è§„èŒƒ å‘½åè§„èŒƒ è·¯ç”±è§„èŒƒ ç¼–ç è§„èŒƒ å¼€å‘æµç¨‹ é…ç½®ä»‹ç» apié…ç½® rpcé…ç½® ä¸šåŠ¡å¼€å‘ jwté‰´æƒ ä¸­é—´ä»¶ä½¿ç”¨ modelç”Ÿæˆ rpcè°ƒç”¨ ä¸šåŠ¡ç¼–ç  é”™è¯¯å¤„ç† æœåŠ¡å¯åŠ¨ CI/CD æœåŠ¡éƒ¨ç½² æ—¥å¿—æ”¶é›† æœåŠ¡ç›‘æ§ Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 15:24:57 "},"prepare.html":{"url":"prepare.html","title":"å‡†å¤‡å·¥ä½œ","keywords":"","body":"å‡†å¤‡å·¥ä½œ åœ¨æ­£å¼è¿›å…¥å®é™…å¼€å‘ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€äº›å‡†å¤‡å·¥ä½œï¼Œæ¯”å¦‚ï¼šGoç¯å¢ƒçš„å®‰è£…ï¼Œgrpcä»£ç ç”Ÿæˆä½¿ç”¨çš„å·¥å…·å®‰è£…ï¼Œ å¿…å¤‡å·¥å…·Goctlçš„å®‰è£…ï¼ŒGolangç¯å¢ƒé…ç½®ç­‰ï¼Œæœ¬èŠ‚å°†åŒ…å«ä»¥ä¸‹å°èŠ‚ï¼š golangå®‰è£… go modudleé…ç½® goctlå®‰è£… protoc&protoc-gen-goå®‰è£… å…¶ä»– Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 15:51:15 "},"golang-install.html":{"url":"golang-install.html","title":"golangå®‰è£…","keywords":"","body":"Golangç¯å¢ƒå®‰è£… å‰è¨€ å¼€å‘golangç¨‹åºï¼Œå¿…ç„¶å°‘ä¸äº†å¯¹å…¶ç¯å¢ƒçš„å®‰è£…ï¼Œæˆ‘ä»¬è¿™é‡Œé€‰æ‹©ä»¥1.15.1ä¸ºä¾‹ã€‚ å®˜æ–¹æ–‡æ¡£ https://golang.google.cn/doc/install mac OSå®‰è£…Go ä¸‹è½½å¹¶å®‰è£…Go for Mac éªŒè¯å®‰è£…ç»“æœ $ go version go version go1.15.1 darwin/amd64 linux å®‰è£…Go ä¸‹è½½Go for Linux è§£å‹å‹ç¼©åŒ…è‡³/usr/local $ tar -C /usr/local -xzf go1.15.8.linux-amd64.tar.gz æ·»åŠ /usr/local/go/binåˆ°ç¯å¢ƒå˜é‡ $ $HOME/.profile export PATH=$PATH:/usr/local/go/bin $ source $HOME/.profile éªŒè¯å®‰è£…ç»“æœ $ go version go version go1.15.1 linux/amd64 Windowså®‰è£…Go ä¸‹è½½å¹¶å®‰è£…Go for Windows éªŒè¯å®‰è£…ç»“æœ $ go version go version go1.15.1 windows/amd64 å…¶ä»– æ›´å¤šæ“ä½œç³»ç»Ÿå®‰è£…è§https://golang.org/dl/ Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 15:51:15 "},"gomod-config.html":{"url":"gomod-config.html","title":"go modudleé…ç½®","keywords":"","body":"Go Moduleè®¾ç½® Go Moduleä»‹ç» Modules are how Go manages dependencies.[1] å³Go Moduleæ˜¯Golangç®¡ç†ä¾èµ–æ€§çš„æ–¹å¼ï¼ŒåƒJavaä¸­çš„Mavenï¼ŒAndroidä¸­çš„Gradleç±»ä¼¼ã€‚ MODULEé…ç½® æŸ¥çœ‹GO111MODULEå¼€å¯æƒ…å†µ $ go env GO111MODULE on å¼€å¯GO111MODULEï¼Œå¦‚æœå·²å¼€å¯ï¼ˆå³æ‰§è¡Œgo env GO111MODULEç»“æœä¸ºonï¼‰è¯·è·³è¿‡ã€‚ $ go env -w GO111MODULE=\"on\" è®¾ç½®GOPROXY $ go env -w GOPROXY=https://goproxy.cn è®¾ç½®GOMODCACHE æŸ¥çœ‹GOMODCACHE $ go env GOMODCACHE å¦‚æœç›®å½•ä¸ä¸ºç©ºæˆ–è€…/dev/nullï¼Œè¯·è·³è¿‡ã€‚ go env -w GOMODCACHE=$GOPATH/pkg/mod å‚è€ƒæ–‡æ¡£ [1] Go Modules Reference Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 16:26:46 "},"goctl-install.html":{"url":"goctl-install.html","title":"goctlå®‰è£…","keywords":"","body":"Goctlå®‰è£… å‰è¨€ Goctlåœ¨go-zeroé¡¹ç›®å¼€å‘ç€æœ‰ç€å¾ˆå¤§çš„ä½œç”¨ï¼Œå…¶å¯ä»¥æœ‰æ•ˆçš„å¸®åŠ©å¼€å‘è€…å¤§å¤§æé«˜å¼€å‘æ•ˆç‡ï¼Œå‡å°‘ä»£ç çš„å‡ºé”™ç‡ï¼Œç¼©çŸ­ä¸šåŠ¡å¼€å‘çš„å·¥ä½œé‡ï¼Œæ›´å¤šçš„Goctlçš„ä»‹ç»è¯·é˜…è¯»Goctlä»‹ç», åœ¨è¿™é‡Œæˆ‘ä»¬å¼ºçƒˆæ¨èå¤§å®¶å®‰è£…ï¼Œå› ä¸ºåç»­æ¼”ç¤ºä¾‹å­ä¸­æˆ‘ä»¬å¤§éƒ¨åˆ†éƒ½ä¼šä»¥goctlè¿›è¡Œæ¼”ç¤ºã€‚ å®‰è£…(mac&linux) download&install GO111MODULE=on GOPROXY=https://goproxy.cn/,direct go get -u github.com/tal-tech/go-zero ç¯å¢ƒå˜é‡æ£€æµ‹ go getä¸‹è½½ç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶ä½äº$GOPATH/binç›®å½•ä¸‹ï¼Œè¦ç¡®ä¿$GOPATH/binå·²ç»æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ã€‚ $ sudo vim /etc/paths åœ¨æœ€åä¸€è¡Œæ·»åŠ å¦‚ä¸‹å†…å®¹ $GOPATH/bin [!TIP] $GOPATHä¸ºä½ æœ¬æœºä¸Šçš„æ–‡ä»¶åœ°å€ å®‰è£…ç»“æœéªŒè¯ $ goctl -v goctl version 1.1.4 darwin/amd64 [!TIP] windowsç”¨æˆ·æ·»åŠ ç¯å¢ƒå˜é‡è¯·è‡ªè¡Œgoogle Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 16:23:34 "},"protoc-install.html":{"url":"protoc-install.html","title":"protoc&protoc-gen-goå®‰è£…","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:47:23 "},"prepare-other.html":{"url":"prepare-other.html","title":"å…¶ä»–","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 15:27:45 "},"dev-specification.html":{"url":"dev-specification.html","title":"å¼€å‘è§„èŒƒ","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:47:40 "},"naming-spec.html":{"url":"naming-spec.html","title":"å‘½åè§„èŒƒ","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:47:47 "},"route-naming-spec.html":{"url":"route-naming-spec.html","title":"è·¯ç”±è§„èŒƒ","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:47:54 "},"coding-spec.html":{"url":"coding-spec.html","title":"ç¼–ç è§„èŒƒ","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:48:01 "},"dev-flow.html":{"url":"dev-flow.html","title":"å¼€å‘æµç¨‹","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:48:09 "},"config-introduction.html":{"url":"config-introduction.html","title":"é…ç½®ä»‹ç»","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:48:17 "},"api-config.html":{"url":"api-config.html","title":"apié…ç½®","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:48:25 "},"rpc-config.html":{"url":"rpc-config.html","title":"rpcé…ç½®","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:48:32 "},"business-dev.html":{"url":"business-dev.html","title":"ä¸šåŠ¡å¼€å‘","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:48:40 "},"jwt.html":{"url":"jwt.html","title":"jwté‰´æƒ","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:48:46 "},"middleware.html":{"url":"middleware.html","title":"ä¸­é—´ä»¶ä½¿ç”¨","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:48:53 "},"model-gen.html":{"url":"model-gen.html","title":"modelç”Ÿæˆ","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:49:00 "},"rpc-call.html":{"url":"rpc-call.html","title":"rpcè°ƒç”¨","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:49:07 "},"business-coding.html":{"url":"business-coding.html","title":"ä¸šåŠ¡ç¼–ç ","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:49:14 "},"error-handle.html":{"url":"error-handle.html","title":"é”™è¯¯å¤„ç†","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:49:21 "},"service-start.html":{"url":"service-start.html","title":"æœåŠ¡å¯åŠ¨","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:49:27 "},"ci-cd.html":{"url":"ci-cd.html","title":"CI/CD","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:49:35 "},"service-deployment.html":{"url":"service-deployment.html","title":"æœåŠ¡éƒ¨ç½²","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:49:55 "},"log-collection.html":{"url":"log-collection.html","title":"æ—¥å¿—æ”¶é›†","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:50:01 "},"service-monitor.html":{"url":"service-monitor.html","title":"æœåŠ¡ç›‘æ§","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:50:07 "},"goctl.html":{"url":"goctl.html","title":"Goctl","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:50:13 "},"component-center.html":{"url":"component-center.html","title":"ç»„ä»¶ä¸­å¿ƒ","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:50:19 "},"tool-center.html":{"url":"tool-center.html","title":"å·¥å…·ä¸­å¿ƒ","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:50:25 "},"intellij.html":{"url":"intellij.html","title":"intellijæ’ä»¶","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:50:31 "},"vscode.html":{"url":"vscode.html","title":"vscodeæ’ä»¶","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:50:37 "},"plugin-center.html":{"url":"plugin-center.html","title":"æ’ä»¶ä¸­å¿ƒ","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:50:44 "},"learning-resource.html":{"url":"learning-resource.html","title":"å­¦ä¹ èµ„æº","keywords":"","body":"å­¦ä¹ èµ„æº è¿™é‡Œå°†ä¸å®šæœŸæ›´æ–°go-zeroçš„æœ€æ–°å­¦ä¹ èµ„æºé€šé“ï¼Œç›®å‰åŒ…å«é€šé“æœ‰ï¼š å…¬ä¼—å· Goå¤œè¯» Goå¼€æºè¯´ Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 14:51:29 "},"wechat.html":{"url":"wechat.html","title":"å…¬ä¼—å·","keywords":"","body":"å…¬ä¼—å· å¾®æœåŠ¡å®æˆ˜æ˜¯go-zeroçš„å®˜æ–¹å…¬ä¼—å·ï¼Œåœ¨è¿™é‡Œä¼šå‘å¸ƒæœ€æ–°çš„go-zeroæœ€ä½³å®è·µï¼ŒåŒæ­¥goå¤œè¯»ã€goå¼€æºè¯´ã€GopherChinaã€è…¾è®¯äº‘å¼€å‘è€…å¤§ä¼šç­‰å¤šæ¸ é“å…³äºgo-zeroçš„æœ€æ–°æŠ€æœ¯å’Œèµ„è®¯ã€‚ å…¬ä¼—å·åç§° å…¬ä¼—å·ä½œè€… å…¬ä¼—å·äºŒç»´ç  å¾®æœåŠ¡å®æˆ˜ kevwan å¹²è´§ è¿™é‡Œåˆ—ä¸¾ä¸€äº›å¹²è´§ï¼Œæƒ³è¦æ”¶è·æ›´å¤šgo-zeroæœ€ä½³å®è·µå¹²è´§ï¼Œå¯ä»¥å…³æ³¨å…¬ä¼—å·è·å–æœ€æ–°åŠ¨æ€ã€‚ ã€Šä¸€æ–‡è¯»æ‡‚äº‘åŸç”Ÿ go-zero å¾®æœåŠ¡æ¡†æ¶ã€‹ ã€Šä½ è¿˜åœ¨æ‰‹æ’•å¾®æœåŠ¡ï¼Ÿå¿«è¯•è¯• go-zero çš„å¾®æœåŠ¡è‡ªåŠ¨ç”Ÿæˆã€‹ ã€Šæœ€ç®€å•çš„Go Dockerfileç¼–å†™å§¿åŠ¿ï¼Œæ²¡æœ‰ä¹‹ä¸€ï¼ã€‹ ã€Šé€šè¿‡MapReduceé™ä½æœåŠ¡å“åº”æ—¶é—´ã€‹ ã€Šå¾®æœåŠ¡è¿‡è½½ä¿æŠ¤åŸç†ä¸å®æˆ˜ ã€Šæœ€ç®€å•çš„ K8S éƒ¨ç½²æ–‡ä»¶ç¼–å†™å§¿åŠ¿ï¼Œæ²¡æœ‰ä¹‹ä¸€ï¼ã€‹ ã€Šgo-zero å¦‚ä½•åº”å¯¹æµ·é‡å®šæ—¶/å»¶è¿Ÿä»»åŠ¡ï¼Ÿã€‹ ã€Šgo-zero å¦‚ä½•æ‰›ä½æµé‡å†²å‡»ï¼ˆä¸€ï¼‰ã€‹ ã€ŠæœåŠ¡è‡ªé€‚åº”é™è½½ä¿æŠ¤è®¾è®¡ã€‹ Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 15:06:52 "},"goreading.html":{"url":"goreading.html","title":"Goå¤œè¯»","keywords":"","body":"Goå¤œè¯» 2020-08-16 æ™“é»‘æ¿ go-zero å¾®æœåŠ¡æ¡†æ¶çš„æ¶æ„è®¾è®¡ 2020-10-03 go-zero å¾®æœåŠ¡æ¡†æ¶å’Œçº¿ä¸Šäº¤æµ é˜²æ­¢ç¼“å­˜å‡»ç©¿ä¹‹è¿›ç¨‹å†…å…±äº«è°ƒç”¨ åŸºäºgo-zeroå®ç°JWTè®¤è¯ å†è§go-microï¼ä¼ä¸šé¡¹ç›®è¿ç§»go-zeroå…¨æ”»ç•¥ï¼ˆä¸€ï¼‰ Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 15:02:35 "},"gotalk.html":{"url":"gotalk.html","title":"Goå¼€æºè¯´","keywords":"","body":"Goå¼€æºè¯´ Go å¼€æºè¯´ç¬¬å››æœŸ - Go-Zero Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 15:04:45 "},"dev-log.html":{"url":"dev-log.html","title":"å¼€å‘æ—¥å¿—","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:51:16 "},"goctl-log.html":{"url":"goctl-log.html","title":"goctlå¼€å‘æ—¥å¿—","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:51:22 "},"intellij-log.html":{"url":"intellij-log.html","title":"intellijå¼€å‘æ—¥å¿—","keywords":"","body":"Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-05 09:51:28 "},"contributor.html":{"url":"contributor.html","title":"ç¤¾åŒºè´¡çŒ®","keywords":"","body":"ç¤¾åŒºè´¡çŒ® ä½œè€… kevwan å‚ä¸äººå‘˜(æ’åä¸åˆ†å…ˆå) kingxt anqiansong StevenZack miaogaolin bittoy zhoushuguang Code-Fight xiaowei520 codingfanlt sjatsh knight0zh mywaystay zjbztianya liuximu Alex1996a masonchen2014 YjLeo rcyw voidint wenj91 TonoT foyon defp HappyUncle benyingY cuisongliu yangwenmai weibobo dylanNew WangLeonard Janetyu Jancd microyahoo jiangbohhh chrislee87 supermario1990 ivalue2333 changkun HarryWang29 windk Howie59 wuqinqiang Hkesd almas1992 shenbaise9527 mlboy jichangyun linyihai wwek æ³¨ï¼šä»¥ä¸Šè´¡çŒ®äººå‘˜ä¸ºgo-zeroé¡¹ç›®ï¼Œæœ€åæ›´æ–°äº2021å¹´2æœˆ5æ—¥ Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 14:33:54 "},"error.html":{"url":"error.html","title":"å¸¸è§é”™è¯¯å¤„ç†","keywords":"","body":"å¸¸è§é”™è¯¯å¤„ç† é”™è¯¯ä¸€: pb/xx.pb.go:220:7: undefined: grpc.ClientConnInterface pb/xx.pb.go:224:11: undefined: grpc.SupportPackageIsVersion6 pb/xx.pb.go:234:5: undefined: grpc.ClientConnInterface pb/xx.pb.go:237:24: undefined: grpc.ClientConnInterface è§£å†³æ–¹æ³•ï¼šè¯·å°†protoc-gen-goç‰ˆæœ¬é™è‡³v1.3.2åŠä¸€ä¸‹ é”™è¯¯äºŒ: # go.etcd.io/etcd/clientv3/balancer/picker ../../../go/pkg/mod/go.etcd.io/etcd@v0.0.0-20200402134248-51bdeb39e698/clientv3/balancer/picker/err.go:25:9: cannot use &errPicker literal (type *errPicker) as type Picker in return argument:*errPicker does not implement Picker (wrong type for Pick method) have Pick(context.Context, balancer.PickInfo) (balancer.SubConn, func(balancer.DoneInfo), error) want Pick(balancer.PickInfo) (balancer.PickResult, error) ../../../go/pkg/mod/go.etcd.io/etcd@v0.0.0-20200402134248-51bdeb39e698/clientv3/balancer/picker/roundrobin_balanced.go:33:9: cannot use &rrBalanced literal (type *rrBalanced) as type Picker in return argument: *rrBalanced does not implement Picker (wrong type for Pick method) have Pick(context.Context, balancer.PickInfo) (balancer.SubConn, func(balancer.DoneInfo), error) want Pick(balancer.PickInfo) (balancer.PickResult, error) #github.com/tal-tech/go-zero/zrpc/internal/balancer/p2c ../../../go/pkg/mod/github.com/tal-tech/go-zero@v1.0.12/zrpc/internal/balancer/p2c/p2c.go:41:32: not enough arguments in call to base.NewBalancerBuilder have (string, *p2cPickerBuilder) want (string, base.PickerBuilder, base.Config) ../../../go/pkg/mod/github.com/tal-tech/go-zero@v1.0.12/zrpc/internal/balancer/p2c/p2c.go:58:9: cannot use &p2cPicker literal (type *p2cPicker) as type balancer.Picker in return argument: *p2cPicker does not implement balancer.Picker (wrong type for Pick method) have Pick(context.Context, balancer.PickInfo) (balancer.SubConn, func(balancer.DoneInfo), error) want Pick(balancer.PickInfo) (balancer.PickResult, error) è§£å†³æ–¹æ³•ï¼š replace google.golang.org/grpc => google.golang.org/grpc v1.29.1 Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 12:43:05 "},"source.html":{"url":"source.html","title":"ç›¸å…³æºç ","keywords":"","body":"ç›¸å…³æºç  demoæºç  Copyright Â© 2019-2021 go-zero all right reservedï¼Œpowered by Gitbookæœ€åæ›´æ–°æ—¶é—´ï¼š 2021-02-07 12:40:04 "}}